{"version":3,"sources":["assets/bugs2020.png","assets/light_sand_tile.png","assets/algae_small.png","components/Simulation/brain.js","components/Simulation/bugs.js","redux/reducers/bugs.js","redux/actionTypes.js","components/Simulation/algae.js","redux/reducers/algae.js","redux/reducers/measures.js","redux/reducers/species.js","redux/reducers/control.js","redux/reducers/tracker.js","redux/reducers/parameters.js","redux/reducers/index.js","redux/store.js","redux/actions.js","redux/selectors.js","components/Parameters/Parameters.jsx","components/Parameters/index.jsx","components/Title/Title.jsx","components/Title/index.jsx","components/About/About.jsx","components/About/index.jsx","components/ReactViewport/ReactViewport.jsx","components/Simulation/physics.js","components/Simulation/Engine.jsx","components/Bug/Bug.jsx","components/Bug/index.jsx","components/Simulation/Simulation.jsx","components/Simulation/index.jsx","components/SummaryChart/SummaryChart.jsx","components/SummaryChart/index.jsx","components/SpeciesChart/SpeciesChart.jsx","components/SpeciesChart/index.jsx","components/BugList/BugList.jsx","components/BugList/index.jsx","components/Controls/Controls.jsx","components/Controls/index.jsx","components/Tracker/Tracker.jsx","components/Tracker/index.jsx","components/Footer/Footer.jsx","components/Footer/index.jsx","components/SimWrapper/SimWrapper.jsx","components/SimWrapper/index.jsx","components/Header/Header.jsx","components/Header/index.jsx","App.jsx","index.jsx","assets/flatworm.png"],"names":["module","exports","brain","this","baseSpeed","Math","round","random","speed","direction","x","y","energy","min","max","floor","initBugs","count","screenWidth","screenHeight","Array","map","ceil","PI","tint","_s","rotation","width","height","cycles","breedSize","breedThreshold","geneology","id","uuidv4","parent","children","bugs","state","action","type","payload","bug","filter","value","index","arr","item","initAlgae","algae","measures","measure","slice","length","species","control","initTracker","ticks","totalBugs","totalSpecies","tracker","Object","assign","initParameters","maxBugs","breedingCost","maxAlgae","algaeBreedThreshold","sampleInterval","mutationRate","parameters","combineReducers","createStore","rootReducer","window","__REDUX_DEVTOOLS_EXTENSION__","setControl","getParameters","getBugs","useStyles","makeStyles","theme","root","margin","spacing","button","largeMarks","label","mediumMarks","smallMarks","Parameters","connect","setParameters","resetParameters","props","classes","useState","params","setParams","className","Typography","gutterBottom","Slider","onChange","event","newValue","newParams","aria-labelledby","step","marks","Button","variant","onClick","toggle","card","maxWidth","maxHeight","display","flexDirection","content","media","Title","Card","CardMedia","image","TitleImage","title","CardContent","color","component","flex","bugPoints","algaePoints","About","Grid","xs","md","List","dense","text","ListItem","ListItemText","primary","PixiComponent","create","viewport","Viewport","innerWidth","innerHeight","worldWidth","worldHeight","console","log","drag","pinch","wheel","decelerate","applyProps","instance","oldProps","newProps","didMount","willUnmount","contact","r1","r2","combinedHalfWidths","combinedHalfHeights","vx","vy","centerX","centerY","halfWidth","halfHeight","abs","speciesCounts","BugSprite","BugImage","anchor","overwriteProps","ignoreEvents","interactive","pointerdown","handleOpen","AlgaeSprite","AlgaeImage","notice","style","PIXI","fontSize","fontFamily","fontWeight","fill","resize","app","nvw","nvh","vpw","vph","HEIGHT","renderer","stage","scale","set","Engine","withPixiApp","bounds","bugLogic","forEach","b","i","splice","offspring","evolve","uuid","push","other","movement","move","sin","cos","change","algaeLogic","angle","radius","isContact","tick","setBugs","ticker","stop","sample","cycle","addMeasure","setTracker","entries","key","normal","keys","name","counts","addSpeciesCount","render","message","concat","toString","padStart","started","start","setAlgae","resetMeasure","resetSpeciesCount","Number","screen","addEventListener","add","remove","React","Component","mapDispatchToProps","addBug","deleteBug","addAlgae","deleteAlgae","getAlgae","getControl","header","padding","alignItems","justifyContent","modal","paper","backgroundColor","border","boxShadow","shadows","Bug","colour","premultiplyTintToRgba","hexcolour","colourString","Modal","disablePortal","disableEnforceFocus","disableAutoFocus","open","onClose","handleClose","aria-describedby","Avatar","alt","src","align","TableContainer","Paper","Table","table","size","aria-label","TableBody","TableRow","TableCell","backgroundImage","BackgroundImage","backgroundRepeat","config","properties","position","uvs","alpha","listeners","prop","val","l","Settings","changed","setState","clearTimeout","changeTimeout","setTimeout","PureComponent","Simulation","setBug","setOpen","options","transparent","store","minHeight","responsive","maintainAspectRatio","scales","xAxes","scaleLabel","labelString","fontColor","stepSize","yAxes","legend","labels","layout","left","right","top","bottom","SummaryChart","getMeasures","chartdata","datasets","data","m","yAxisID","borderColor","borderWidth","pointRadius","pointHoverRadius","SpeciesChart","getSpecies","chartData","element","entry","borderColourString","spanGaps","BugList","TableHead","CardActions","CONTROL","Controls","Tracker","getTracker","footer","link","textDecoration","Footer","BottomNavigation","Link","href","TabPanel","role","hidden","a11yProps","flexGrow","SimWrapper","setValue","AppBar","Tabs","Tab","offset","mixins","toolbar","menuButton","marginRight","menu","Header","settings","setSettings","setMenu","toggleSettings","toggleMenu","ListItemLink","icon","to","renderLink","useMemo","forwardRef","itemProps","ref","ListItemIcon","initialEntries","initialIndex","Toolbar","IconButton","edge","Drawer","onKeyDown","exact","path","createMuiTheme","palette","App","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.95daa956.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bugs2020.bfb2339d.png\";","module.exports = __webpack_public_path__ + \"static/media/light_sand_tile.c5fa7d35.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpSIVQTuIOGSoThZERXQrVSyChdJWaNXB5NIvaNKQpLg4Cq4FBz8Wqw4uzro6uAqC4AeIk6OToouU+L+k0CLGg+N+vLv3uHsHCI0KU82uCUDVLCMVj4nZ3KoYeIUAP4KYw4DETD2RXszAc3zdw8fXuwjP8j735+hT8iYDfCJxlOmGRbxBPLNp6Zz3iUOsJCnE58TjBl2Q+JHrsstvnIsOCzwzZGRS88QhYrHYwXIHs5KhEk8ThxVVo3wh67LCeYuzWqmx1j35C4N5bSXNdZojiGMJCSQhQkYNZVRgIUKrRoqJFO3HPPzDjj9JLplcZTByLKAKFZLjB/+D392ahalJNykYA7pfbPtjFAjsAs26bX8f23bzBPA/A1da219tALOfpNfbWvgI6N8GLq7bmrwHXO4AQ0+6ZEiO5KcpFArA+xl9Uw4YvAV619zeWvs4fQAy1NXyDXBwCIwVKXvd4909nb39e6bV3w9v4HKm51QXzgAAAAZiS0dEAFkAFABCT7091QAAAAlwSFlzAAAN1wAADdcBQiibeAAAAAd0SU1FB+QCAww7IVC1CbgAAAJ2SURBVCjPjZO/TxNhGMe/d/e+LXdHbWkp10IbkDKUK9AghDioiUNjYsBEnViZZHTCRBf9Bxx1IsZAdNCYqIvWhISaOKASalpwqIFALQVOKOWOwv1yuTMaQ/RZvnnffD/v8+PNA5wcs94eogKYxX9EK4ARACKAocSkZGbeDdqJSckEMOTcjwAIuwDraJiX6cfeqVhOSNEiAMbSLQYAHGWEFC32TsVyvEwXnES/4MHTVyPxWCbsSU7E2wFkxQ7eBACxgzcAZJMT8WgsE/Z0jUlRAN0AwDhwUEjRxeREvD2U9hNDM00icJxbnntWlmrGyvT6d62gywBUFx5yHsqeeyL7dhZrxqmESPwJkdv+vHccPhPwGIemOTeWrwPIALABfGIAzCQmpXFLt1mxo0lnOIbe5i3z0Yst1rwnM+aRZXFelgWASk7R1XKDspSxSg+qTxlvD1EvPOwX3BIbyrGRv18i0fMhLX6pTVh/s6VVcoowcDNhNIU8xPXN3/iiceYPS2ZEu0/J13C0qxstSR+VzgaNll6fFwCCj9fInWttVnZTJ/VVTa9+2OX2vh5Y22/rz/7q+eLLAd/BxqHVHOMZ27JtrXrE7pdUo3XQT96PF//o2Z3ovpCi8/23uoLNcZ4QgQMROKLk941Q3ykqRpsYb4BygbRAauWDy/q2dReA7v5zX+eoFAml/VRZqhlzY/l6JacYbcMBbyWn6HNX8nVlqWaE0n7SOSpFAKQAwB1AafVVtQIguva6ugngulpuLACAWm5QAJmV6fXnnaPHEcf37Xd457CoDy8XN7oBFAAkWcpYAFhHba2gy8uFjZQD7vxrUWacrZo5yfAT7Nr+OBIJPnoAAAAASUVORK5CYII=\"","\n/**\n* -----------------------------------------------\n* Bug brain\n* -----------------------------------------------\n*/\nexport default class brain {\n  constructor() {\n    this.baseSpeed = Math.round(Math.random() * 3); // inheritable attribute from parents\n  }\n\n  move(speed, direction, x, y, energy) {\n    // console.log(speed, direction, x, y, energy);\n\n    // TODO - add smarts\n    var newSpeed = Math.min(Math.max(0, speed + Math.floor(Math.random() * 3) - 1 + this.baseSpeed), 10);\n    var newDirection = direction + ((Math.random() - 0.5) / 2);\n\n\n    return ({ speed: newSpeed, direction: newDirection });\n  }\n};","import uuidv4 from 'uuid/v4';\nimport brain from './brain';\n\n/**\n* -----------------------------------------------\n* Init bugs array\n* -----------------------------------------------\n*/\nexport function initBugs(count, screenWidth, screenHeight) {\n  var bugs = [...Array(count)].map(() => ({\n    brain: new brain(),\n    speed: Math.ceil((2 + Math.random() * 4) * 0.5),\n    direction: Math.random() * Math.PI * 2,\n    tint: Math.round(Math.random() * 0xFFFFFF), // species and colour\n    x: Math.random() * screenWidth,\n    y: Math.random() * screenHeight,\n    _s: 0.6, // base speed - could add to parameters\n    rotation: 0,\n    // w/h used for collision detection, and controls sprite size\n    width: 6,\n    height: 12,\n    energy: 400,\n    cycles: 0, // track age in cycles\n    breedSize: Math.floor(Math.random() * 10) + 10, // minimum width before breeding\n    breedThreshold: Math.floor(Math.random() * 1000) + 1000,\n    // info to allow geneology reports\n    geneology: {\n      id: uuidv4(),\n      parent: 'SEED', // track parent - this is initial SEED\n      children: [] // empty to start\n    }\n  }));\n\n  return bugs;\n}\n","import { SET_BUGS, ADD_BUG, DELETE_BUG, UPDATE_BUG } from \"../actionTypes\";\nimport { initBugs } from '../../components/Simulation/bugs';\n\n// TODO - make init count a param\n// TODO - pull width and height from props somehow\nconst bugs = (state = initBugs(5, 1000, 500), action) => {\n  switch (action.type) {\n    case SET_BUGS:\n      return action.payload.bugs; // which will be an array in this case\n    case ADD_BUG:\n      return [\n        ...state,\n        action.payload.bug\n      ]\n    case DELETE_BUG:\n      return state.filter((value, index, arr) => {\n        // false if the UUID of the bug we want to get rid of\n        return value.geneology.id !== action.payload.bug.geneology.id;\n      });\n    case UPDATE_BUG:\n      return state.map(function(item) { return item.geneology.id === action.payload.bug.geneology.id ? action.payload.bug : item; });\n    default:\n      return state;\n  }\n}\n\nexport default bugs;","export const ADD_MEASURE = \"ADD_MEASURE\";\nexport const RESET_MEASURE = \"RESET_MEASURE\";\n\nexport const ADD_SPECIES_COUNT = \"ADD_SPECIES_COUNT\";\nexport const RESET_SPECIES_COUNT = \"RESET_SPECIES_COUNT\";\n\nexport const SET_CONTROL = \"SET_CONTROL\";\n\nexport const SET_TRACKER = \"SET_TRACKER\";\n\nexport const SET_PARAMETERS = \"SET_PARAMETERS\";\nexport const RESET_PARAMETERS = \"RESET_PARAMETERS\";\n\nexport const SET_BUGS = \"SET_BUGS\";\nexport const ADD_BUG = \"ADD_BUG\";\nexport const DELETE_BUG = \"DELETE_BUG\";\nexport const UPDATE_BUG = \"UPDATE_BUG\";\n\nexport const SET_ALGAE = \"SET_ALGAE\";\nexport const ADD_ALGAE = \"ADD_ALGAE\";\nexport const DELETE_ALGAE = \"DELETE_ALGAE\";\n","import uuidv4 from 'uuid/v4';\n\n/**\n* -----------------------------------------------\n* Init algae array\n* -----------------------------------------------\n*/\nexport function initAlgae(count, screenWidth, screenHeight) {\n    var algae = [...Array(count)].map(() => ({\n      id: uuidv4(),\n      x: Math.round(Math.random() * screenWidth),\n      y: Math.round(Math.random() * screenHeight),\n      rotation: Math.random() * Math.PI * 2,\n      // width: Math.round(Math.random() * 7 + 5),\n      width: 12,\n      height: 12,\n      energy: Math.floor(Math.random() * 100) + 10, // spread initial values, avoid all breeding together\n      cycles: 0, // track age in cycles\n    }));\n    \n    return algae;\n  }\n  ","import { SET_ALGAE, ADD_ALGAE, DELETE_ALGAE } from \"../actionTypes\";\nimport { initAlgae } from '../../components/Simulation/algae';\n\n// TODO - make init count a params\n// TODO - pull width and height from props somehow\nconst algae = (state = initAlgae(600, 1000, 500), action) => {\n  switch (action.type) {\n    case SET_ALGAE:\n      return action.payload.algae;\n    case ADD_ALGAE:\n      return [\n        ...state,\n        action.payload.algae\n      ]\n    case DELETE_ALGAE:\n      return state.filter((value, index, arr) => {\n        // false if the UUID is item we want to remove\n        return value.id !== action.payload.algae.id;\n      });\n    default:\n      return state;\n  }\n}\n\nexport default algae;","import { ADD_MEASURE, RESET_MEASURE } from \"../actionTypes\";\n\n// TODO - cap size here? pop from front if > than x\n\nconst measures = (state = [], action) => {\n    switch (action.type) {\n      case ADD_MEASURE:\n        const { measure } = action.payload;        \n        return [\n          ...state.slice(Math.max(state.length - 100, 0)), // trim to last 100\n          measure\n        ]   \n      case RESET_MEASURE:\n        return []; // reset to initial state\n      default:\n        return state;\n    }\n  }\n\n  export default measures;","import { ADD_SPECIES_COUNT, RESET_SPECIES_COUNT } from \"../actionTypes\";\n\nconst species = (state = [], action) => {\n    switch (action.type) {\n      case ADD_SPECIES_COUNT:\n        return [\n          // cap size here, pop from front if > than x\n          ...state.slice(Math.max(state.length - 100, 0)),\n          action.payload.species\n        ]\n      case RESET_SPECIES_COUNT:\n        return []; // reset to initial state\n      default:\n        return state;\n    }\n  }\n\n  export default species;","import { SET_CONTROL } from \"../actionTypes\";\n\n// set initial state\nconst control = (state = \"PLAY\", action) => {\n    switch (action.type) {\n      case SET_CONTROL:\n        return action.payload.control;\n      default:\n        return state;\n    }\n  }\n\n  export default control;","import { SET_TRACKER } from \"../actionTypes\";\n\n// init value\nconst initTracker = {\n  ticks: 0,\n  bugs: 0,\n  algae: 0,\n  totalBugs: 5,\n  totalSpecies: 5\n}\n\nconst tracker = (state = initTracker, action) => {\n  switch (action.type) {\n    case SET_TRACKER:\n      return Object.assign({}, action.payload.tracker);\n    default:\n      return state;\n  }\n}\n\nexport default tracker;","import { SET_PARAMETERS, RESET_PARAMETERS } from \"../actionTypes\";\n\n// init value\nconst initParameters = {\n  maxBugs: 250,\n  breedingCost: 200,\n  maxAlgae: 1500,\n  algaeBreedThreshold: 100,\n  sampleInterval: 100, // number of ticks before counting species and other metrics taken\n  mutationRate: 10, // 1 in n chance of mutation taking place, lower the number, higher the rate\n}\n\nconst parameters = (state = initParameters, action) => {\n  switch (action.type) {\n    case SET_PARAMETERS:\n      return Object.assign({}, action.payload.parameters);\n    case RESET_PARAMETERS:\n      return Object.assign({}, initParameters);\n    default:\n      return state;\n  }\n}\n\nexport default parameters;","import { combineReducers } from 'redux';\nimport bugs from './bugs';\nimport algae from './algae';\nimport measures from './measures';\nimport species from './species';\nimport control from './control';\nimport tracker from './tracker';\nimport parameters from './parameters';\n\nexport default combineReducers({\n  bugs,\n  algae,\n  measures,\n  species,\n  control,\n  tracker,\n  parameters\n});\n","import { createStore } from \"redux\";\nimport rootReducer from \"./reducers\";\n\nexport default createStore(\n    rootReducer,\n    // this allows use of chrome redux devtool, if available\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);","import { \n  ADD_MEASURE, RESET_MEASURE, \n  ADD_SPECIES_COUNT, RESET_SPECIES_COUNT,\n  SET_CONTROL,\n  SET_TRACKER, \n  SET_PARAMETERS, RESET_PARAMETERS,\n  SET_BUGS, ADD_BUG, DELETE_BUG, UPDATE_BUG,\n  SET_ALGAE, ADD_ALGAE, DELETE_ALGAE\n} from \"./actionTypes\";\n\nexport const addMeasure = measure => ({\n  type: ADD_MEASURE,\n  payload: {\n    measure\n  }\n});\n\nexport const resetMeasure = () => ({\n  type: RESET_MEASURE\n});\n\nexport const addSpeciesCount = species => ({\n  type: ADD_SPECIES_COUNT,\n  payload: {\n    species\n  }\n});\n\nexport const resetSpeciesCount = () => ({\n  type: RESET_SPECIES_COUNT\n});\n\nexport const setControl = control => ({\n  type: SET_CONTROL,\n  payload: {\n    control\n  }\n});\n\nexport const setTracker = tracker => ({\n  type: SET_TRACKER,\n  payload: {\n    tracker\n  }\n});\n\nexport const setParameters = parameters => ({\n  type: SET_PARAMETERS,\n  payload: {\n    parameters\n  }\n});\n\nexport const resetParameters = () => ({\n  type: RESET_PARAMETERS\n});\n\nexport const setBugs = bugs => ({\n  type: SET_BUGS,\n  payload: {\n    bugs\n  }\n});\n\nexport const addBug = bug => ({\n  type: ADD_BUG,\n  payload: {\n    bug\n  }\n});\n\nexport const deleteBug = bug => ({\n  type: DELETE_BUG,\n  payload: {\n    bug\n  }\n});\n\nexport const updateBug = bug => ({\n  type: UPDATE_BUG,\n  payload: {\n    bug\n  }\n});\n\nexport const setAlgae = algae => ({\n  type: SET_ALGAE,\n  payload: {\n    algae\n  }\n});\n\nexport const addAlgae = algae => ({\n  type: ADD_ALGAE,\n  payload: {\n    algae\n  }\n});\n\nexport const deleteAlgae = algae => ({\n  type: DELETE_ALGAE,\n  payload: {\n    algae\n  }\n});\n","export const getMeasures = state => state.measures ? state.measures : [];\nexport const getSpecies = state => state.species ? state.species : [];\nexport const getControl = state => state.control ? state.control : {};\nexport const getTracker = state => state.tracker ? state.tracker : {};\nexport const getParameters = state => state.parameters ? state.parameters : {};\nexport const getBugs = state => state.bugs ? state.bugs : [];\nexport const getAlgae = state => state.algae ? state.algae : [];\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport { setParameters, resetParameters } from '../../redux/actions';\nimport { getParameters } from \"../../redux/selectors\";\nimport Slider from '@material-ui/core/Slider';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: 250,\n    margin: 20\n  },\n  margin: {\n    height: theme.spacing(3),\n  },\n  button: {\n    margin: 5\n  }\n}));\n\n// TODO - could generate these programmatically\nconst largeMarks = [\n  {\n    value: 400,\n    label: '400',\n  },\n  {\n    value: 800,\n    label: '800',\n  },\n  {\n    value: 1200,\n    label: '1200',\n  },\n  {\n    value: 1600,\n    label: '1600',\n  },\n  {\n    value: 2000,\n    label: '2000',\n  },\n];\n\nconst mediumMarks = [\n  {\n    value: 50,\n    label: '50',\n  },\n  {\n    value: 100,\n    label: '100',\n  },\n  {\n    value: 150,\n    label: '150',\n  },\n  {\n    value: 200,\n    label: '200',\n  },\n  {\n    value: 250,\n    label: '250',\n  },\n  {\n    value: 300,\n    label: '300',\n  },\n  {\n    value: 350,\n    label: '350',\n  },\n  {\n    value: 400,\n    label: '400',\n  },\n  {\n    value: 450,\n    label: '450',\n  },\n  {\n    value: 500,\n    label: '500',\n  },\n];\n\nconst smallMarks = [\n  {\n    value: 10,\n    label: '10',\n  },\n  {\n    value: 20,\n    label: '20',\n  },\n  {\n    value: 30,\n    label: '30',\n  },\n  {\n    value: 40,\n    label: '40',\n  },\n  {\n    value: 50,\n    label: '50',\n  },\n  {\n    value: 60,\n    label: '60',\n  },\n  {\n    value: 70,\n    label: '70',\n  },\n  {\n    value: 80,\n    label: '80',\n  },\n  {\n    value: 90,\n    label: '90',\n  },\n  {\n    value: 100,\n    label: '100',\n  },\n];\n\nfunction Parameters(props) {\n\n  const classes = useStyles();\n\n  // clone for local adjustment, copy back to redux parameters if saved\n  const [params, setParams] = useState(props.parameters);\n\n  // TODO - consolidate functions, needless repetition here\n  const handleMaxBugsChange = (event, newValue) => {\n    var newParams = Object.assign({}, params);\n    newParams.maxBugs = newValue;\n    setParams(newParams);\n  };\n\n  const handleBreedingCostChange = (event, newValue) => {\n    var newParams = Object.assign({}, params);\n    newParams.breedingCost = newValue;\n    setParams(newParams);\n  };\n\n  const handleMaxAlgaeChange = (event, newValue) => {\n    var newParams = Object.assign({}, params);\n    newParams.maxAlgae = newValue;\n    setParams(newParams);\n  };\n\n  const handleAlgaeBreedThresholdChange = (event, newValue) => {\n    var newParams = Object.assign({}, params);\n    newParams.algaeBreedThreshold = newValue;\n    setParams(newParams);\n  };\n\n  const handleMutationRateChange = (event, newValue) => {\n    var newParams = Object.assign({}, params);\n    newParams.mutationRate = newValue;\n    setParams(newParams);\n  };\n\n  // reset parameters to defaults\n  const reset = () => {\n    props.resetParameters(); // reset redux parameters\n    // TODO - await? reset to last values, 2nd click shows actual values\n    setParams(props.parameters); // update local component state\n  };\n\n  return (\n    <div className={classes.root}>\n\n      <Typography id=\"max-bugs-slider\" gutterBottom>\n        Maximum Bug Population\n      </Typography>\n      <Slider\n        value={params.maxBugs}\n        onChange={handleMaxBugsChange}\n        aria-labelledby=\"max-bugs-slider\"\n        step={10}\n        marks={mediumMarks}\n        min={50}\n        max={300}\n      />\n\n      <div className={classes.margin} />\n      <Typography id=\"bug-breed-cost-slider\" gutterBottom>\n        Bug Breeding Cost (Energy)\n      </Typography>\n      <Slider\n        value={params.breedingCost}\n        onChange={handleBreedingCostChange}\n        aria-labelledby=\"bug-breed-cost-slider\"\n        step={10}\n        marks={mediumMarks}\n        min={0}\n        max={300}\n      />\n\n      <div className={classes.margin} />\n      <Typography id=\"max-algae-slider\" gutterBottom>\n        Maximum Algae Population\n      </Typography>\n      <Slider\n        value={params.maxAlgae}\n        onChange={handleMaxAlgaeChange}\n        aria-labelledby=\"max-algae-slider\"\n        step={50}\n        marks={largeMarks}\n        min={400}\n        max={2000}\n      />\n\n      <div className={classes.margin} />\n      <Typography id=\"algae-breed-threshold-slider\" gutterBottom>\n        Algae Breeding Threshold (Energy)\n      </Typography>\n      <Slider\n        value={params.algaeBreedThreshold}\n        onChange={handleAlgaeBreedThresholdChange}\n        aria-labelledby=\"algae-breed-threshold-slider\"\n        step={10}\n        marks={mediumMarks}\n        min={50}\n        max={300}\n      />\n\n      <div className={classes.margin} />\n      <Typography id=\"algae-mutation-rate-slider\" gutterBottom>\n        Mutation Chance (1 in n)\n      </Typography>\n      <Slider\n        value={params.mutationRate}\n        onChange={handleMutationRateChange}\n        aria-labelledby=\"algae-mutation-rate-slider\"\n        step={1}\n        marks={smallMarks}\n        min={10}\n        max={100}\n      />\n\n      <div className={classes.margin} />\n      <Button className={classes.button} variant=\"contained\" onClick={() => { props.setParameters(params); props.toggle(false); }}>Save</Button>\n      <Button className={classes.button} variant=\"contained\" onClick={() => { reset(); }}>Reset</Button>\n      <Button className={classes.button} variant=\"contained\" onClick={() => { props.toggle(false); }}>Close</Button>\n    </div>\n  );\n\n};\n\nconst mapStateToProps = state => {\n  const parameters = getParameters(state);\n  return { parameters };\n};\n\nexport default connect(mapStateToProps, {setParameters, resetParameters})(Parameters);\n","import ParametersComponent from './Parameters';\nexport const Parameters = ParametersComponent;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport TitleImage from '../../assets/bugs2020.png';\n\nconst useStyles = makeStyles({\n  card: {\n    maxWidth: \"100%\",\n    maxHeight: 500,\n    margin: 5,\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  content: {\n    width: \"80%\"\n  },\n  media: {\n    margin: 5,\n    height: 100,\n    width: 100\n  },\n});\n\nexport default function Title() {\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.card}>\n      <CardMedia\n        className={classes.media}\n        image={TitleImage}\n        title=\"Bugs 2020\"\n      />\n      <CardContent className={classes.content}>\n        <Typography variant=\"body1\" color=\"textSecondary\" component=\"p\">\n          Exploring machine learning and evolutionary adaptation by observing synthetic entities in a dynamic environment.\n        </Typography>\n      </CardContent>\n    </Card>\n  );\n\n}\n","import TitleComponent from './Title';\nexport const Title = TitleComponent;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport { Grid, List, ListItem, ListItemText } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n  card: {\n    maxWidth: \"100%\",\n    margin: 5,\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  content: {\n    flex: '1 0 auto',\n    margin: 10,\n    width: \"90%\"\n  },\n  media: {\n    margin: 5,\n    height: 100,\n    width: 100\n  },\n});\n\nconst bugPoints = [\n  'Species is indicated by colour',\n  'A species is a unique set of parameter values',\n  'Burn energy when moving',\n  'The faster they move the more energy they burn',\n  'Eat both \\'algae\\' and \\'bugs\\' of other species (colour) in their paths',\n  'Can only eat smaller \\'bugs\\'',\n  'Will not eat their own offspring, when mutated to another \\'species\\'',\n  'Breed when they are large enough and have enough energy',\n  'Size and energy levels for breeding are a selected factor',\n  'When breeding there is a chance of a parameter change, forming a new species'\n];\n\nconst algaePoints = [\n  'Accumulate energy over time; \\'photosynthesis\\'',\n  'Grow over time',\n  'The larger they are the more energy they can hold',\n  'Will create offspring when they reach a certain energy level',\n  'Offspring are spawned in a circle around the parent, when there is space'\n];\n\nexport default function Title() {\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.card}>\n      <CardContent className={classes.content}>\n\n        <Typography variant=\"body1\" color=\"textSecondary\" component=\"p\">\n          The environment is a chaotic system, and the 'bugs' are selected by their ability to survive in this system. Those that can consume\n          sufficient energy in the form of the green 'algae' or other 'bugs' will reproduce and persist. Those that do not die off.\n          Population oscillations can be observed as selection pushes towards equilibrium.\n          There are parameters that can be adjusted to experiment with the system. These can be adjusted as it is running.\n        </Typography>\n\n        <Typography variant=\"body1\" color=\"textSecondary\" component=\"p\">&nbsp;</Typography>\n      \n        <Grid item xs={12} md={6}>\n          <Typography variant=\"h6\" className={classes.title}>\n            'Bugs'\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            <List dense={true}>\n              {bugPoints.map(text => (\n                <ListItem >\n                  <ListItemText primary={text}/>\n                </ListItem>\n              ))\n              }\n            </List>\n            </Typography>\n        </Grid>\n\n        <Grid item xs={12} md={6}>\n          <Typography variant=\"h6\" className={classes.title}>\n            'Algae'\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            <List dense={true}>\n              {algaePoints.map(text => (\n                <ListItem >\n                  <ListItemText primary={text}/>\n                </ListItem>\n              ))\n              }\n            </List>\n            </Typography>\n        </Grid>\n\n      </CardContent>\n    </Card>\n  );\n\n}\n","import Component from './About';\nexport const About = Component;","import { Viewport } from \"pixi-viewport\";\nimport { PixiComponent } from \"@inlet/react-pixi\";\n\n// see - https://codesandbox.io/s/elated-liskov-pdcd6\n\nexport default PixiComponent(\"Viewport\", {\n  create: props => {\n    const viewport = new Viewport({\n      // screenWidth: 1000,\n      // screenHeight: 500,\n      screenWidth: window.innerWidth,\n      screenHeight: window.innerHeight,\n      worldWidth: 1000,\n      worldHeight: 500,\n      // ticker: props.app.ticker,\n      // interaction: props.app.renderer.plugins.interaction // the interaction module is important for wheel to work properly when renderer.view is placed or scaled\n    });\n\n    console.log(props)\n    // viewport.on(\"drag-start\", () => console.log(\"drag-start\"));\n    // viewport.on(\"drag-end\", () => console.log(\"drag-end\"));\n\n    viewport\n      .drag()\n      .pinch()\n      .wheel()\n      .decelerate();\n\n    //viewport.scaled = 30;\n    return viewport;\n  },\n  applyProps: (instance, oldProps, newProps) => {\n    console.log(\"applyProps\");\n  },\n  didMount: () => {\n    console.log(\"didMount\");\n  },\n  willUnmount: () => {\n    console.log(\"willUnmount\");\n  }\n});","/**\n* -----------------------------------------------\n* Contact function - have two sprites connected?  \n* see https://github.com/kittykatattack/learningPixi#the-hittestrectangle-function\n* -----------------------------------------------\n*/\nexport function contact(r1, r2) {\n\n    //Define the variables we'll need to calculate\n    let hit, combinedHalfWidths, combinedHalfHeights, vx, vy;\n  \n    //hit will determine whether there's a collision\n    hit = false;\n  \n    // console.log(\"h\", r1.height, r2.height);\n  \n    //Find the center points of each sprite\n    r1.centerX = r1.x + r1.width / 2;\n    r1.centerY = r1.y + r1.height / 2;\n    r2.centerX = r2.x + r2.width / 2;\n    r2.centerY = r2.y + r2.height / 2;\n  \n    //Find the half-widths and half-heights of each sprite\n    r1.halfWidth = r1.width / 2;\n    r1.halfHeight = r1.height / 2;\n    r2.halfWidth = r2.width / 2;\n    r2.halfHeight = r2.height / 2;\n  \n    //Calculate the distance vector between the sprites\n    vx = r1.centerX - r2.centerX;\n    vy = r1.centerY - r2.centerY;\n  \n    //Figure out the combined half-widths and half-heights\n    combinedHalfWidths = r1.halfWidth + r2.halfWidth;\n    combinedHalfHeights = r1.halfHeight + r2.halfHeight;\n  \n    //Check for a collision on the x axis\n    if (Math.abs(vx) < combinedHalfWidths) {\n  \n      //A collision might be occurring. Check for a collision on the y axis\n      if (Math.abs(vy) < combinedHalfHeights) {\n  \n        //There's definitely a collision happening\n        hit = true;\n      } else {\n  \n        //There's no collision on the y axis\n        hit = false;\n      }\n    } else {\n  \n      //There's no collision on the x axis\n      hit = false;\n    }\n  \n    //`hit` will be either `true` or `false`\n    return hit;\n  };\n  \n  \n  // not used yet\n  export function wrap(original, xbounds, ybounds, width, height) {\n    var item = Object.assign({}, original);\n\n    if (item.x < xbounds) {\n      item.x += width;\n    }\n    else if (item.x > xbounds + width) {\n      item.x -= width;\n    }\n    if (item.y < ybounds) {\n      item.y += height;\n    }\n    else if (item.y > ybounds + height) {\n      item.y -= height;\n    }\n    return item;\n  }","import React from 'react';\nimport { connect } from \"react-redux\";\nimport { addMeasure, addSpeciesCount, resetMeasure, resetSpeciesCount, setControl, setTracker } from '../../redux/actions';\nimport { setAlgae, addAlgae, deleteAlgae, setBugs, addBug, deleteBug } from '../../redux/actions';\nimport { getControl, getParameters, getAlgae, getBugs } from '../../redux/selectors';\nimport { Text, withPixiApp, Sprite, useApp } from '@inlet/react-pixi';\nimport * as PIXI from \"pixi.js\";\nimport uuidv4 from 'uuid/v4';\n\n// images\nimport BugImage from '../../assets/flatworm.png';\nimport AlgaeImage from '../../assets/algae_small.png';\n\n// simulation components\nimport { contact, wrap } from './physics';\nimport brain from './brain';\nimport { initBugs } from './bugs';\nimport { initAlgae } from './algae';\n\n\n/**\n* -----------------------------------------------\n* tracker, for stats, local copy to make redux management easier\n* update redux copy for display\n* -----------------------------------------------\n*/\nvar tracker = {\n  ticks: 0,\n  bugs: 0,\n  algae: 0,\n  speciesCounts: {}, // support constant tracking of population by species\n  totalBugs: 10, // init value\n  totalSpecies: 10 // init value\n}\n\n/**\n* -----------------------------------------------\n* Bug Component\n* -----------------------------------------------\n*/\nconst BugSprite = (props) => (\n  <Sprite {...props.bug}\n    image={BugImage}\n    anchor={0.5}\n    overwriteProps={true}\n    ignoreEvents={true}\n    interactive={true}\n    pointerdown={() => { // respond to click\n      console.log(props.bug, props.handleOpen);\n      props.handleOpen(props.bug); // open bug modal popup\n    }}\n  />\n);\n\n/**\n* -----------------------------------------------\n* Algae Component\n* -----------------------------------------------\n*/\nconst AlgaeSprite = props => (\n  <Sprite {...props}\n    image={AlgaeImage}\n    anchor={0.5}\n    overwriteProps={true}\n    ignoreEvents={true}\n  />\n);\n\n/**\n* -----------------------------------------------\n* Message to display when all dead\n* -----------------------------------------------\n*/\nconst notice = <Text\n  text=\"All Bugs Dead\"\n  anchor={0}\n  x={380}\n  y={250}\n  style={new PIXI.TextStyle({\n    fontSize: 30,\n    fontFamily: 'Courier',\n    fontWeight: 'bold',\n    fill: '#ff0000'\n  })}\n/>\n\n/**\n * TODO - add event listener, get this working to allow scaling for mobile devices\n * @param {PIXI.Application} app\n * @returns {Function}\n * see https://github.com/michelfaria/pixijs-scaletofit/blob/master/game.js\n */\nfunction resize(app) {\n\n  return function () {\n    // these values controls the size of the simulation plane\n    const WIDTH = 1000;\n    var HEIGHT = 500;\n\n    const vpw = window.innerWidth; // Width of the viewport\n    const vph = window.innerHeight; // Height of the viewport\n    let nvw; // New game width\n    let nvh; // New game height\n\n    // The aspect ratio is the ratio of the screen's sizes in different dimensions.\n    // The height-to-width aspect ratio of the game is HEIGHT / WIDTH.\n\n    if (vph / vpw < HEIGHT / WIDTH) {\n      // If height-to-width ratio of the viewport is less than the height-to-width ratio\n      // of the game, then the height will be equal to the height of the viewport, and\n      // the width will be scaled.\n      nvh = vph;\n      nvw = (nvh * WIDTH) / HEIGHT;\n    } else {\n      // In the else case, the opposite is happening.\n      nvw = vpw;\n      nvh = (nvw * HEIGHT) / WIDTH;\n    }\n\n    // each tab causes a call, once rendered - here check we are dealing with the PIXI tab\n    if(app.renderer) {\n      // Set the game screen size to the new values.\n      // This command only makes the screen bigger --- it does not scale the contents of the game.\n      // There will be a lot of extra room --- or missing room --- if we don't scale the stage.\n      app.renderer.resize(nvw, nvh);\n\n      // This command scales the stage to fit the new size of the game.\n      app.stage.scale.set(nvw / WIDTH, nvh / HEIGHT);\n    }\n  };\n}\n\n/**\n* -----------------------------------------------\n* Core simulation engine\n* -----------------------------------------------\n*/\nconst Engine = withPixiApp(class extends React.Component {\n  bounds = null\n\n  componentDidMount() {\n    const padding = 10;\n    this.bounds = new PIXI.Rectangle(\n      -padding,\n      -padding,\n      Number(1000) + padding,\n      Number(500) + padding\n    );\n\n    // initial sizing\n    resize(this.props.app, this.props.app.screen.width, this.props.app.screen.height)();\n\n    // scale as window is resized\n    window.addEventListener(\"resize\", resize(this.props.app));\n\n    // this adds ticker to app causing execution of graphics loop\n    this.props.app.ticker.add(this.tick);\n\n    console.log(\"engine props => \", this.props);\n  }\n\n  componentWillUnmount() {\n    this.props.app.ticker.remove(this.tick);\n  }\n\n  // direct manipulation version\n  bugLogic = () => {\n    // first, check once over all items, remove any with 0 energy\n    this.props.bugs.forEach((b, i) => {\n      if (b.energy === 0) {\n        this.props.bugs.splice(i, 1); // other is at position i\n        // this.props.deleteBug(b); // slow but correct\n        tracker.speciesCounts[b.tint] ? tracker.speciesCounts[b.tint]-- : tracker.speciesCounts[b.tint] = 0; // may not exist if first org\n      }\n    });\n\n\n    // BUG PROCESSING\n    this.props.bugs.forEach((item) => {\n\n      // BREED\n      if (this.props.bugs.length < this.props.parameters.maxBugs // less than max\n        && item.width >= item.breedSize // big enough\n        && item.energy >= item.breedThreshold // with enough energy\n        && Math.floor(Math.random() * 4) === 0) { // and element of chance - fudge factor to slow explosive growth\n        tracker.totalBugs++;\n        var offspring = Object.assign({}, this.evolve(item)); // empty object to receive contents of item\n        // TODO - parameterise how much energy offspring gets, cap energy\n        offspring.energy = Math.floor(item.energy * 0.40); // offspring gets 25% of energy - do this first\n        item.energy = Math.floor(item.energy * 0.60) - this.props.parameters.breedingCost; // lose 40%, plus breeding cost, for breeding\n        offspring.direction = Math.random() * Math.PI * 2; // new heading\n        // geneology tracking\n        var uuid = uuidv4();\n        item.geneology.children.push(uuid); // parent tracks child\n        offspring.geneology = {\n          id: uuid,\n          parent: item.geneology.id,\n          children: [] // create blank array for child\n        }\n        offspring.cycles = 0; // age tracking\n        // start small, grow in size\n        offspring.width = 6;\n        offspring.height = 12;\n        this.props.bugs.push(offspring); // add adjusted copy\n        // this.props.addBug(offspring); // very slow but correct\n        tracker.speciesCounts[offspring.tint] ? tracker.speciesCounts[offspring.tint]++ : tracker.speciesCounts[offspring.tint] = 1; // track new births\n      }\n\n      // EAT OTHER BUGS - smaller bugs always eaten, supports growth\n      this.props.bugs.forEach((other) => {\n        // don't test against self, based on position of other value\n        if (other.geneology.id !== item.geneology.id // don't compare to self!\n          && item.tint !== other.tint\n          && (item.geneology.id !== other.geneology.parent && item.geneology.parent !== other.geneology.id)) {\n          // if not offspring and touching and smaller, eat the smaller one, or be eaten\n          if (contact(item, other)) {\n            // eat\n            if (item.width > other.width) {\n              item.energy += other.energy; // take what energy there is\n              other.energy = 0;\n              // other.tint = 0xFFFFFF; // flash white before removal\n            }\n            // be eaten\n            else if (item.width < other.width) {\n              other.energy += item.energy; // take what energy there is\n              item.energy = 0;\n              // item.tint = 0xFFFFFF; // flash white before removal\n            }\n            // avoid\n            else {\n              item.direction += (Math.random() - 0.5) * 0.75; // avoidance\n              other.direction += (Math.random() - 0.5) * 0.75; // avoidance\n            }\n          }\n        }\n      })\n\n      // EAT ALGAE\n      this.props.algae.forEach((algae, i) => {\n        if (contact(item, algae)) {\n          // consume the entire contacted algae at once - no updates\n          item.energy += algae.energy; // take what energy there is\n          this.props.algae.splice(i, 1); // direct manipulation\n          // this.props.deleteAlgae(algae); // slow but correct\n        }\n      });\n\n      // BRAIN TEST\n      var movement = item.brain.move(item.speed, item.direction, item.x, item.y, item.energy);\n      item.direction = movement.direction;\n      item.speed = movement.speed;\n\n      // MOVE \n      item.x = item.x + Math.sin(item.direction) * (item.speed * item._s);\n      item.y = item.y + Math.cos(item.direction) * (item.speed * item._s);\n      item.rotation = -item.direction + Math.PI;\n\n      // wrap testing\n      if (item.x < this.bounds.x) {\n        item.x += this.bounds.width;\n      }\n      else if (item.x > this.bounds.x + this.bounds.width) {\n        item.x -= this.bounds.width;\n      }\n      if (item.y < this.bounds.y) {\n        item.y += this.bounds.height;\n      }\n      else if (item.y > this.bounds.y + this.bounds.height) {\n        item.y -= this.bounds.height;\n      }\n\n      // ENERGY LOSS\n      item.energy = Math.max(0, item.energy - (2 + Math.ceil(item.speed))); // energy loss with movement and speed, will need to eat\n    })\n  }\n\n  /**\n  * -----------------------------------------------\n  * Evolve bug\n  * check if should evolve, make small adjustment if so\n  * -----------------------------------------------\n  */\n  evolve = (item) => {\n    var offspring = Object.assign({}, item);\n    if (Math.floor(Math.random() * this.props.parameters.mutationRate) === 0) {  // 1 in n chance of a mutuation\n      tracker.totalSpecies++;\n      // TODO - check upper/lower colour bounds\n      offspring.tint = item.tint + Math.round(Math.random() * 0xFFFF) - 0x8888; // new colour to indicate change\n\n      // make one small change\n      // TODO - change smarts, 'brain' attributes, as option\n      var change = Math.floor(Math.random() * 3);\n      switch (change) {\n        case 0:\n          offspring.breedThreshold += Math.floor(Math.random() * 20) - 10; // variable breed speed, up or down\n          break;\n        case 1:\n          offspring.breedSize += Math.min(22, Math.max(5, Math.floor(Math.random() * 2) - 1));\n          break;\n        case 2:\n          offspring.brain = new brain(); // constructor changes\n          break;\n        default:\n          console.log(\"no change ...\", change);\n      }\n    }\n    return offspring;\n  }\n\n  // direct manipulation - no array replacement\n  algaeLogic = () => {\n    // ALGAE PROCESSING\n    this.props.algae.forEach((item) => {\n      // increment age\n      item.cycles++\n\n      // GROW - based on algae age\n      if (item.width < 25 && item.cycles % 75 === 0) {\n        item.width++;\n        item.height++;\n      }\n      // BREED\n      // TODO - limit to edge algae, or perhaps sample pop if large, to MASSIVELY speed processing\n      if (item.energy >= this.props.parameters.algaeBreedThreshold && this.props.algae.length < this.props.parameters.maxAlgae) {\n        var offspring = Object.assign({}, item); // empty object to receive contents of item\n\n        // start small, allow for growth\n        offspring.width = 5;\n        offspring.height = 5;\n\n        var angle = Math.random() * Math.PI * 2;\n        var radius = Math.random() * 60 + 5;\n        offspring.x += Math.round(Math.cos(angle) * radius);\n        offspring.y += Math.round(Math.sin(angle) * radius);\n        offspring.rotation = Math.random() * Math.PI * 2;\n\n        // edge wrap detection - move to function\n        if (offspring.x < this.bounds.x) {\n          offspring.x += this.bounds.width;\n        }\n        else if (offspring.x > this.bounds.x + this.bounds.width) {\n          offspring.x -= this.bounds.width;\n        }\n        if (offspring.y < this.bounds.y) {\n          offspring.y += this.bounds.height;\n        }\n        else if (offspring.y > this.bounds.y + this.bounds.height) {\n          offspring.y -= this.bounds.height;\n        }\n\n        // check overlap - if overlap, do not breed (do no add offpsring) until space\n        let isContact = false;\n        for (var i = 0; i < this.props.algae.length; i++) { // don't use foreach so can break on first hit\n          if (contact(offspring, this.props.algae[i])) {\n            isContact = true;\n            break;\n          }\n        }\n\n        // no overlap so create\n        if (!isContact) {\n          // only take energy away when space to breed\n          item.energy = Math.round(item.energy * 0.9); // keep 90%\n          offspring.energy = Math.round(item.energy * 0.1); // 10%\n          this.props.algae.push(offspring); // add adjusted copy\n          // this.props.addAlgae(offspring); // slow but correct\n        }\n      }\n\n      // PHOTOSYNTHESISE\n      // put a cap on energy stored based on breeding threshold - must have that much\n      // item.energy = Math.min(this.props.parameters.algaeBreedThreshold, item.energy + 1);\n      item.energy = Math.min(item.width * 8, item.energy + 1); // limit energy based on size - need to grow\n    })\n  }\n\n  tick = () => {\n    this.bugLogic();\n    this.algaeLogic();\n\n    // doing this here to update state to cause re-rendering\n    // see if way to force re-render without replacing bug array\n    // re-rendering causes algae to work too without direct manipulation - hack\n    this.props.setBugs(this.props.bugs.map((bug, i) => {\n      bug.cycles++;\n      // GROW - takes time and energy\n      // TODO - parameterise cycles and max sizes\n      if (bug.width < bug.breedSize && bug.energy >= 5000) { // need to accumulate 5000 to grow, before breeding, will be staggered across bugs\n        bug.width++;\n        bug.height += 2;\n        bug.energy -= 2500; // TODO - parameterise cost of growth; here it is expensive\n      }\n      return bug;\n    }));\n\n    // stop processing, all dead\n    if (this.props.bugs.length === 0) {\n      this.props.app.ticker.stop();\n    };\n\n    tracker.ticks++;\n\n    // every nth tick, record bug volumes by species - not too often, slows processing\n    if (tracker.ticks % this.props.parameters.sampleInterval === 0) {\n\n      // add population measures to redux store\n      let sample = {\n        cycle: tracker.ticks,\n        bugs: this.props.bugs.length,\n        algae: this.props.algae.length\n      };\n      this.props.addMeasure(sample);\n\n      // update redux tracker with local values\n      tracker.bugs = this.props.bugs.length;\n      tracker.algae = this.props.algae.length;\n      this.props.setTracker(tracker);\n\n      // periodically trim tracker species counts of 0 values\n      Object.entries(tracker.speciesCounts).forEach(([key, value]) => {\n        // should not need undefined test, not sure where undefined coming from\n        if (tracker.speciesCounts[key] === 0 || key === 'undefined') {\n          delete tracker.speciesCounts[key];\n        }\n      });\n\n      // normalise species counts into standard structure to make plotting easier\n      const normal = Object.keys(tracker.speciesCounts).map((name) => {\n        return { species: name, count: tracker.speciesCounts[name] }\n      });\n\n      // wrap up species counts with a cycle indicator\n      const species = { cycle: tracker.ticks, counts: normal }\n\n      // add species counts to redux store\n      this.props.addSpeciesCount(species);\n    }\n\n  }\n\n  render = () => {\n    var algae = this.props.algae.map(props => <AlgaeSprite {...props} />);\n    var bugs = this.props.bugs.map(bug => <BugSprite bug={bug} handleOpen={this.props.handleOpen} />);\n\n    var message =\n      \"Cycle: \".concat(tracker.ticks.toString().padStart(7, ' '))\n        .concat(\"\\n Bugs: \").concat(this.props.bugs.length.toString().padStart(7, ' '))\n        .concat(\"\\nAlgae: \").concat(this.props.algae.length.toString().padStart(7, ' '));\n\n    // show the 'ticks' on screen - cycle\n    var text = <Text\n      text={message}\n      anchor={0}\n      x={5}\n      y={450}\n      style={new PIXI.TextStyle({\n        fontSize: 14,\n        fontFamily: 'Courier',\n        fontWeight: 'bold',\n        fill: '#000000'\n      })}\n    />\n\n    // manage control buttons\n    // TODO - move into function\n    switch (this.props.control) {\n      case 'PLAY':\n        // prevent repeated start calls by testing started\n        if (!this.props.app.ticker.started) {\n          this.props.app.ticker.start();\n        }\n        break;\n      case 'PAUSE':\n        this.props.app.ticker.stop();\n        break;\n      case 'RESET':\n        // stop processing\n        this.props.app.ticker.stop();\n        // reset the algae and bugs\n        this.props.setBugs(initBugs(5, 1000, 500));\n        this.props.setAlgae(initAlgae(600, 1000, 500));\n        // reset measures redux array\n        this.props.resetMeasure();\n        // reset species redux array\n        this.props.resetSpeciesCount();\n        // reset tracker counts\n        // TODO - call function, avoid this nasty hard coding of values\n        tracker.ticks = 0;\n        tracker.totalBugs = 5;\n        tracker.totalSpecies = 5;\n        // restart processing\n        this.props.app.ticker.start();\n        // set control value\n        this.props.setControl('PLAY'); // set running again\n        break;\n      default:\n        console.log(\"control not recognised ...\");\n    }\n\n    if (this.props.bugs.length > 0) {\n      return [...algae, ...bugs, text];\n    }\n    return [...algae, ...bugs, text, notice];\n  }\n});\n\n\nconst mapStateToProps = state => {\n  const bugs = getBugs(state);\n  const algae = getAlgae(state);\n  const control = getControl(state);\n  const parameters = getParameters(state);\n  return { bugs, algae, control, parameters };\n};\n\nconst mapDispatchToProps = {\n  setBugs, addBug, deleteBug,\n  setAlgae, addAlgae, deleteAlgae,\n  addMeasure, resetMeasure,\n  addSpeciesCount, resetSpeciesCount,\n  setControl,\n  setTracker\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Engine);\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Typography from '@material-ui/core/Typography';\nimport BugImage from '../../assets/flatworm.png';\nimport * as PIXI from \"pixi.js\";\nimport { ReactImageTint } from 'react-image-tint';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Avatar from '@material-ui/core/Avatar';\n\n\nconst useStyles = makeStyles(theme => ({\n  header: {\n    display: 'flex',\n    padding: theme.spacing(1),\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  modal: {\n    display: 'flex',\n    padding: theme.spacing(1),\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    width: 400,\n    // backgroundColor: theme.palette.background.paper,\n    backgroundColor: '#DDDDDD',\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport default function Bug(props) {\n\n  const classes = useStyles();\n\n  let colour = PIXI.utils.premultiplyTintToRgba(props.bug !== null ? props.bug.tint : 0, 0.5);\n  let hexcolour = [colour[0] * 0x255, colour[1] * 0x255, colour[2] * 0x255];\n  let colourString = 'rgba(' + hexcolour[0] + ',' + hexcolour[1] + ',' + hexcolour[2] + ', 0.8)';\n\n  return (\n    <Modal\n      disablePortal\n      disableEnforceFocus\n      disableAutoFocus\n      open={props.open}\n      onClose={props.handleClose}\n      aria-labelledby=\"Bug\" // a11y\n      aria-describedby=\"Bug details\" // a11y\n      className={classes.modal}\n    >{props.bug !== null ?\n      <div className={classes.paper}>\n        <div className={classes.header}>\n        <Avatar alt={\"iamge of bug \" + props.bug.geneology.id}>\n          <ReactImageTint src={BugImage} color={colourString} />\n        </Avatar>\n        &nbsp;\n        <Typography variant=\"body1\" color=\"primary\" component=\"p\" align=\"center\">\n          {props.bug.geneology.id}\n        </Typography>\n        </div>\n        <TableContainer component={Paper}>\n          <Table className={classes.table} size=\"small\" aria-label=\"bug-list\">\n            <TableBody>\n              <TableRow>\n                <TableCell align=\"right\">Energy</TableCell>\n                <TableCell align=\"right\">{props.bug.energy}</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell align=\"right\">Cycles</TableCell>\n                <TableCell align=\"right\">{props.bug.cycles}</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell align=\"right\">Speed</TableCell>\n                <TableCell align=\"right\">{props.bug.speed}</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell align=\"right\">Breed Size</TableCell>\n                <TableCell align=\"right\">{props.bug.breedSize}</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell align=\"right\">Breed Threshold</TableCell>\n                <TableCell align=\"right\">{props.bug.breedThreshold}</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell align=\"right\">Offspring</TableCell>\n                <TableCell align=\"right\">{props.bug.geneology.children.length}</TableCell>\n              </TableRow>\n            </TableBody>\n          </Table>\n        </TableContainer>\n\n      </div>\n      : <div><p>bug not specified</p></div>\n      }\n    </Modal>\n  );\n\n};\n","import Component from './Bug';\nexport const Bug = Component;","import React from 'react';\nimport { Provider } from \"react-redux\";\nimport store from \"../../redux/store\";\nimport { Stage, Container } from '@inlet/react-pixi';\n\n// material-ui components\nimport Card from '@material-ui/core/Card';\nimport { makeStyles } from '@material-ui/core/styles';\n\n// images\nimport BackgroundImage from '../../assets/light_sand_tile.png';\n\n// simulation components\nimport ReactViewport from '../ReactViewport';\nimport Engine from './Engine';\n\n// project components\nimport { Bug } from '../Bug';\n\n/**\n* -----------------------------------------------\n* Component styles\n* -----------------------------------------------\n*/\nconst useStyles = makeStyles({\n  card: props => ({\n    maxWidth: \"100%\",\n    maxHeight: \"100%\",\n    backgroundImage: 'url(' + BackgroundImage + ')',\n    backgroundRepeat: 'repeat',\n    margin: 5,\n    display: 'flex',\n    flexDirection: 'row'\n  })\n});\n\n/**\n* -----------------------------------------------\n* Config\n* -----------------------------------------------\n*/\nconst config = {\n  properties: {\n    position: true,\n    rotation: true,\n    scale: false,\n    uvs: false,\n    alpha: false,\n  },\n\n  listeners: [],\n  onChange: function (prop, val) { this.listeners.forEach(l => l(prop, val)) },\n}\n\n/**\n* -----------------------------------------------\n* Settings Component\n* -----------------------------------------------\n*/\nclass Settings extends React.PureComponent {\n\n  state = { ...config.properties, changed: false }\n\n  componentDidMount() {\n    config.listeners.push(this.onChange)\n  }\n\n  onChange = (prop, val) => {\n    this.setState({ [prop]: val, changed: true })\n\n    // creates new ParticleContainer as properties cannot be changed over time\n    clearTimeout(this.changeTimeout)\n    this.changeTimeout = setTimeout(() => this.setState({ changed: false }), 0)\n  }\n\n  render() {\n    return this.state.changed ? null : this.props.children(this.state)\n  }\n};\n\n\n/**\n* -----------------------------------------------\n* Top level simulation component\n* -----------------------------------------------\n*/\nfunction Simulation(props) {\n\n  const classes = useStyles(props);\n\n  const [bug, setBug] = React.useState(null);\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = (b) => {\n    setBug(b);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <Card className={classes.card}>\n      <Stage width={props.width} height={props.height} options={{ transparent: true }}>\n        <Provider store={store}>\n        {/* <ReactViewport app={app}> */}\n          <Settings>\n            {config => (\n              <Container properties={config}>\n                <Engine config={props} handleOpen={handleOpen} />\n              </Container>\n            )}\n          </Settings>\n          </Provider>\n        {/* </ReactViewport> */}\n      </Stage>\n      <Bug open={open} bug={bug} handleClose={handleClose}/>\n    </Card>\n  );\n}\n\nexport default Simulation;","import SimComponent from './Simulation';\nexport const Simulation = SimComponent;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getMeasures } from \"../../redux/selectors\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport { Line } from 'react-chartjs-2';\n\n\nconst useStyles = makeStyles({\n  card: props => ({\n    maxWidth: \"100%\",\n    minHeight: props.height,\n    maxHeight: props.height,\n    margin: 5\n  })\n});\n\nconst options = {\n  responsive: true,\n  maintainAspectRatio: false,\n  // animation: false,\n  scales: {\n    xAxes: [{\n      scaleLabel: {\n        display: true,\n        labelString: 'Cycle',\n        fontColor: 'rgb(63, 63, 191, 0.9)'\n      },      \n      type: 'linear',\n      position: 'bottom',\n      ticks: {\n        stepSize: 100\n      }\n    }],\n    yAxes: [\n      {\n        id: 'bugs',\n        scaleLabel: {\n          display: true,\n          labelString: '# of Bugs',\n          fontColor: 'rgb(63, 63, 191, 0.9)'\n        },      \n        position: 'left',\n      },\n      {\n        id: 'algae',\n        scaleLabel: {\n          display: true,\n          labelString: '# of Algae',\n          fontColor: 'rgb(63, 63, 191, 0.9)'\n        },      \n        position: 'right',\n      }\n    ]\n  },\n  legend: {\n    display: true,\n    labels: {\n      fontColor: 'rgb(63, 63, 191, 0.9)'\n    }\n  },\n  layout: {\n    padding: {\n      left: 5,\n      right: 5,\n      top: 5,\n      bottom: 5\n    }\n  }\n}\n\nfunction SummaryChart(props) {\n\n  const classes = useStyles(props);\n\n  let measures = props.measures; // alias\n\n  var chartdata = {\n    datasets: [\n      {\n        label: \"Bugs\",\n        data: measures && measures.length ? measures.map((m) => { return { x: m.cycle, y: m.bugs } }) : [],\n        yAxisID: \"bugs\",\n        borderColor: 'rgba(191, 63, 63, 0.5)',\n        backgroundColor: 'rgba(191, 63, 63, 0.3)',\n        borderWidth: 1,\n        pointRadius: 1,\n        pointHoverRadius: 1\n      },\n      {\n        label: \"Algae\",\n        data: measures && measures.length ? measures.map((m) => { return { x: m.cycle, y: m.algae } }) : [],\n        yAxisID: \"algae\",\n        borderColor: 'rgba(0, 138, 0, 0.7)',\n        backgroundColor: 'rgba(0, 138, 0, 0.3)',\n        borderWidth: 1,\n        pointRadius: 1,\n        pointHoverRadius: 1\n      }\n    ]\n  }\n\n  return (\n    <Card className={classes.card}>\n      <Line\n        data={chartdata}\n        options={options}\n      />\n    </Card>\n  );\n};\n\nconst mapStateToProps = state => {\n  const measures = getMeasures(state);\n  return { measures };\n};\n\nexport default connect(mapStateToProps)(SummaryChart);\n","import ChartComponent from './SummaryChart';\nexport const SummaryChart = ChartComponent;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getSpecies } from \"../../redux/selectors\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport { Line } from 'react-chartjs-2';\nimport * as PIXI from \"pixi.js\";\n\nconst useStyles = makeStyles({\n  card: props => ({\n    maxWidth: \"100%\",\n    minHeight: props.height,\n    maxHeight: props.height,\n    margin: 5\n  })\n});\n\nconst options = {\n  responsive: true,\n  maintainAspectRatio: false,\n  // animation: false,\n  scales: {\n    xAxes: [{\n      scaleLabel: {\n        display: true,\n        labelString: 'Cycle',\n        fontColor: 'rgb(63, 63, 191, 0.9)'\n      },\n      type: 'linear',\n      position: 'bottom',\n      ticks: {\n        stepSize: 100\n      }\n    }],\n    yAxes: [{\n      scaleLabel: {\n        display: true,\n        labelString: '# of Bugs',\n        fontColor: 'rgb(63, 63, 191, 0.9)'\n      },\n      position: 'left'\n    }]\n  },\n  legend: {\n    display: true,\n    labels: {\n      fontColor: 'rgb(63, 63, 191, 0.9)'\n    }\n  },\n  layout: {\n    padding: {\n      left: 5,\n      right: 5,\n      top: 5,\n      bottom: 5\n    }\n  }\n}\n\nfunction SpeciesChart(props) {\n\n  const classes = useStyles(props);\n\n  // species data needs to be pivoted from by cycle to by species to chart\n  // TODO - filter to top n species for efficiency\n  var chartData = [];\n  props.species.forEach(element => {\n    element.counts.forEach(entry => {\n      chartData[entry.species] ? chartData[entry.species].push({ x: element.cycle, y: entry.count }) : chartData[entry.species] = [{ x: element.cycle, y: entry.count }];\n    });\n  });\n\n  var datasets = Object.keys(chartData).map((name) => {\n    let colour = PIXI.utils.premultiplyTintToRgba(name, 0.5);\n    let hexcolour = [colour[0] * 0x255, colour[1] * 0x255, colour[2] * 0x255];\n    let borderColourString = 'rgba(' + hexcolour[0] + ',' + hexcolour[1] + ',' + hexcolour[2] + ', 0.9)';\n    let colourString = 'rgba(' + hexcolour[0] + ',' + hexcolour[1] + ',' + hexcolour[2] + ', 0.5)';\n    return {\n      label: name,\n      data: chartData[name],\n      borderColor: borderColourString,\n      backgroundColor: colourString,\n      borderWidth: 1,\n      pointRadius: 1,\n      pointHoverRadius: 1,\n      spanGaps: false\n    }\n  });\n\n  var chartdata = {\n    datasets: datasets\n  }\n\n  return (\n    <Card className={classes.card}>\n      <Line\n        data={chartdata}\n        options={options}\n      />\n    </Card>\n  );\n};\n\nconst mapStateToProps = state => {\n  const species = getSpecies(state);\n  return { species };\n};\n\nexport default connect(mapStateToProps)(SpeciesChart);\n","import ChartComponent from './SpeciesChart';\nexport const SpeciesChart = ChartComponent;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getBugs } from \"../../redux/selectors\";\n\n// material-ui components\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardActions from '@material-ui/core/CardActions';\nimport * as PIXI from \"pixi.js\";\nimport { ReactImageTint } from 'react-image-tint';\n\n// project components\nimport { Bug } from '../Bug';\nimport BugImage from '../../assets/flatworm.png';\n\n\nconst useStyles = makeStyles({\n  card: {\n    maxWidth: \"100%\",\n    maxHeight: 700,\n    margin: 5,\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  media: {\n    height: 40,\n    width: 20,\n  }\n});\n\nfunction BugList({ bugs }) {\n\n  const classes = useStyles();\n\n  const [bug, setBug] = React.useState(null);\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = (b) => {\n    setBug(b);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  // TODO - add paging though will never be many\n  return (\n    <Card className={classes.card}>\n      <TableContainer component={Paper}>\n        <Table className={classes.table} size=\"small\" aria-label=\"bug-list\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"left\">Bug</TableCell>\n              <TableCell align=\"right\">Species</TableCell>\n              <TableCell align=\"right\">Age</TableCell>\n              <TableCell align=\"right\">Energy</TableCell>\n              <TableCell align=\"right\">Offspring</TableCell>\n              <TableCell align=\"right\">Speed</TableCell>\n              <TableCell align=\"right\">Width</TableCell>\n              <TableCell align=\"right\">Breed Width</TableCell>\n              <TableCell align=\"right\">Breed Energy</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {bugs.map((b, i) => {\n              let colour = PIXI.utils.premultiplyTintToRgba(b.tint, 0.5);\n              let hexcolour = [colour[0] * 0x255, colour[1] * 0x255, colour[2] * 0x255];\n              let colourString = 'rgba(' + hexcolour[0] + ',' + hexcolour[1] + ',' + hexcolour[2] + ', 0.8)';\n              return (\n              <TableRow key={i}>\n                <TableCell align=\"left\">\n                  <CardActions>\n                    <CardMedia className={classes.media} title={\"View bug \" + b.geneology.id} onClick={() => {handleOpen(b)}} >\n                    <ReactImageTint src={BugImage} color={colourString} />\n                    </CardMedia>\n                  </CardActions>\n                </TableCell>\n                <TableCell align=\"right\">{b.tint}</TableCell>\n                <TableCell align=\"right\">{b.cycles}</TableCell>\n                <TableCell align=\"right\">{b.energy}</TableCell>\n                <TableCell align=\"right\">{b.geneology.children.length}</TableCell>\n                <TableCell align=\"right\">{b.speed}</TableCell>\n                <TableCell align=\"right\">{b.width}</TableCell>\n                <TableCell align=\"right\">{b.breedSize}</TableCell>\n                <TableCell align=\"right\">{b.breedThreshold}</TableCell>\n              </TableRow>\n            )})}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <Bug open={open} bug={bug} handleClose={handleClose}/>\n    </Card>\n  );\n\n};\n\n\nconst mapStateToProps = state => {\n  const bugs = getBugs(state);\n  return { bugs };\n};\n\nexport default connect(mapStateToProps)(BugList);","import BugListComponent from './BugList';\nexport const BugList = BugListComponent;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { setControl } from '../../redux/actions';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport Button from '@material-ui/core/Button';\n\n// icons\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport RefreshIcon from '@material-ui/icons/Refresh';\n\nconst useStyles = makeStyles({\n  card: {\n    maxWidth: \"100%\",\n    maxHeight: 100,\n    margin: 5,\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  button: {\n    margin: 5\n  }\n});\n\nvar CONTROL = {\n  PAUSE: 'PAUSE',\n  PLAY: 'PLAY',\n  RESET: 'RESET'\n};\n\nfunction Controls(props) {\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.card}>\n      <Button className={classes.button} variant=\"contained\" onClick={() => { props.setControl(CONTROL.PAUSE); }}><PauseIcon /></Button>\n      <Button className={classes.button} variant=\"contained\" onClick={() => { props.setControl(CONTROL.PLAY); }}><PlayArrowIcon /></Button>\n      <Button className={classes.button} variant=\"contained\" onClick={() => { props.setControl(CONTROL.RESET); }}><RefreshIcon /></Button>\n    </Card>\n  );\n}\n\nexport default connect(\n  null,\n  { setControl }\n)(Controls);\n","import ControlsComponent from './Controls';\nexport const Controls = ControlsComponent;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport { getTracker } from \"../../redux/selectors\";\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyles = makeStyles({\n  card: {\n    maxWidth: \"100%\",\n    maxHeight: 200,\n    margin: 5\n  }\n});\n\nfunction Tracker({tracker}) {\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.card}>\n      <TableContainer component={Paper}>\n        <Table className={classes.table} size=\"small\" aria-label=\"tracker data\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"right\">Cycle</TableCell>\n              <TableCell align=\"right\">Current Bugs</TableCell>\n              <TableCell align=\"right\">Current Algae</TableCell>\n              <TableCell align=\"right\">Total Bugs</TableCell>\n              <TableCell align=\"right\">Total Species</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow key={tracker.ticks}>\n              <TableCell align=\"right\">{tracker.ticks}</TableCell>\n              <TableCell align=\"right\">{tracker.bugs}</TableCell>\n              <TableCell align=\"right\">{tracker.algae}</TableCell>\n              <TableCell align=\"right\">{tracker.totalBugs}</TableCell>\n              <TableCell align=\"right\">{tracker.totalSpecies}</TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Card>\n  );\n\n};\n\nconst mapStateToProps = state => {\n  const tracker = getTracker(state);\n  return { tracker };\n};\n\nexport default connect(mapStateToProps)(Tracker);\n","import TrackerComponent from './Tracker';\nexport const Tracker = TrackerComponent;","import React from \"react\";\nimport { BottomNavigation, Link } from \"@material-ui/core\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  footer: {\n    backgroundColor: 'rgb(63, 63, 191, 0.1)',\n    padding: '5px',\n    height: '22px',\n    justifyContent: 'flex-end',\n    position: 'fixed',\n    bottom: 0,\n  },\n  link: {\n    color: 'rgb(63, 63, 191, 0.9)',\n    \"&:hover\": {\n      textDecoration: 'none',\n      color: '#0066ff'\n    }\n  }\n}));\n\nfunction Footer() {\n  const classes = useStyles();\n\n  return (\n    <BottomNavigation className={classes.footer}>\n      <Link className={classes.link} href=\"https://www.linkedin.com/in/kazanglenn/\">Kazan Glenn</Link>\n    </BottomNavigation>\n  );\n}\n\nexport default Footer;","import FooterComponent from './Footer';\nexport const Footer = FooterComponent;","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// material-ui components\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\n\n// custom components\nimport { Simulation } from '../Simulation';\nimport { SummaryChart } from '../SummaryChart';\nimport { SpeciesChart } from '../SpeciesChart';\nimport { BugList } from '../BugList';\nimport { Controls } from '../Controls';\nimport { Tracker } from '../Tracker';\nimport { Footer } from '../Footer';\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <div>{children}</div>}\n    </Typography>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function SimWrapper() {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\" variant=\"scrollable\">\n          <Tab label=\"Simulation\" {...a11yProps(0)} />\n          <Tab label=\"Summary\" {...a11yProps(1)} />\n          <Tab label=\"Species\" {...a11yProps(2)} />\n          <Tab label=\"Bugs\" {...a11yProps(3)} />\n        </Tabs>\n      </AppBar>\n      <TabPanel value={value} index={0}>\n        <Controls />\n        <Simulation/>\n        <SummaryChart height={200}/>\n        <Tracker />\n        <Footer />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <SummaryChart height={400}/>\n        <Tracker />\n        <Footer />\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n        <SpeciesChart height={700}/>\n        <Footer />\n      </TabPanel>\n      <TabPanel value={value} index={3}>\n        <BugList />\n        <Footer />\n      </TabPanel>\n    </div>\n  );\n}","import SimComponent from './SimWrapper';\nexport const SimWrapper = SimComponent;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, MemoryRouter } from 'react-router';\nimport { Link as RouterLink, Switch } from 'react-router-dom';\n\n// material-ui components\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\n\n// material-ui icons\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport InfoIcon from '@material-ui/icons/Info';\nimport BugReportIcon from '@material-ui/icons/BugReport';\n\n// custom components\nimport { Parameters } from '../Parameters';\nimport { Title } from '../Title';\nimport { About } from '../About';\nimport { SimWrapper } from '../SimWrapper';\nimport { Footer } from '../Footer';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  offset: theme.mixins.toolbar,\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  menu: {\n    width: 250,\n  }\n}));\n\nexport default function Header() {\n  const classes = useStyles();\n\n  // React hooks state management\n  const [settings, setSettings] = useState(false);\n  const [menu, setMenu] = useState(false);\n\n  const toggleSettings = (open) => event => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n    setSettings(open);\n  };\n\n  const toggleMenu = (open) => event => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n    setMenu(open);\n  };\n\n  const ListItemLink = (props) => {\n    const { icon, primary, to } = props;\n\n    const renderLink = React.useMemo(\n      () => React.forwardRef((itemProps, ref) => <RouterLink to={to} ref={ref} {...itemProps} />),\n      [to],\n    );\n\n    return (\n      <ListItem button component={renderLink}>\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n        <ListItemText primary={primary} />\n      </ListItem>\n    );\n  };\n\n  ListItemLink.propTypes = {\n    icon: PropTypes.element,\n    primary: PropTypes.string.isRequired,\n    to: PropTypes.string.isRequired,\n  };\n\n  const menuList = () => (\n    <div\n      className={classes.menu}\n      role=\"presentation\"\n      onClick={toggleMenu(false)}\n      onKeyDown={toggleMenu(false)}\n    >\n      <List component=\"nav\" aria-label=\"navigation\">\n        {[\n          { text: 'Simulation', icon: <BugReportIcon />, href: '/simulation' },\n          { text: 'About', icon: <InfoIcon />, href: '/about' },\n        ].map((entry, index) => (\n          <ListItemLink key={index} to={entry.href} primary={entry.text} icon={entry.icon} />\n        ))}\n      </List>\n    </div>\n  );\n\n  return (\n    <MemoryRouter initialEntries={['/simulation']} initialIndex={0}>\n\n      <div className={classes.root}>\n        <AppBar position=\"fixed\">\n          <Toolbar>\n            <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\" onClick={toggleMenu(true)}>\n              <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n              Bugs 2020\n          </Typography>\n            <IconButton edge=\"end\" className={classes.menuButton} color=\"inherit\" aria-label=\"settings\" onClick={toggleSettings(true)}>\n              <SettingsIcon />\n            </IconButton>\n          </Toolbar>\n        </AppBar>\n        <Drawer anchor=\"left\" open={menu} onClose={toggleMenu(false)}>\n          {menuList()}\n        </Drawer>\n        <Drawer anchor=\"right\" open={settings} onClose={toggleSettings(false)}>\n          <Parameters toggle={toggleSettings()} />\n        </Drawer>\n      </div>\n\n      <Switch>\n        <Route exact path=\"/simulation\">\n          <div className={classes.offset} />\n          <SimWrapper />\n        </Route>\n        <Route path=\"/about\">\n          <div className={classes.offset} />\n          <Title />\n          <About />\n          <Footer />\n        </Route>\n      </Switch>\n\n    </MemoryRouter>\n  );\n\n}\n","import Component from './Header';\nexport const Header = Component;","import React from 'react';\n\n// material-ui components\nimport { ThemeProvider } from '@material-ui/styles';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\n// custom components\nimport { Header } from './components/Header';\n\nconst theme = createMuiTheme({\n  palette: {\n    type: 'light', // dark | light\n  }\n});\n\nexport default function App() {\n\n  return (\n    <div className=\"App\">\n      <ThemeProvider theme={theme}>\n        <Header />\n      </ThemeProvider>\n    </div>\n  );\n};\n","import React from 'react';\nimport { render } from 'react-dom';\n\nimport { Provider } from 'react-redux'\nimport store from \"./redux/store\";\n\nimport './index.css';\nimport App from './App';\n\nrender(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAeCAYAAAAl+Z4RAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AYht+mSkVaHOwg6pChOlkQFXGUViyChdJWaNXB5NI/aNKQpLg4Cq4FB38Wqw4uzro6uAqC4A+Ik6OToouU+F1SaBHjHcc9vPe9L3ffAUKzylSzZxJQNctIJ2JiLr8qBl4hwI8QzRGJmXoys5iF5/i6h4/vd1Ge5V335wgpBZMBPpF4numGRbxBPLtp6Zz3icOsLCnE58QTBl2Q+JHrsstvnEsOCzwzbGTTceIwsVjqYrmLWdlQiWeII4qqUb6Qc1nhvMVZrdZZ+578hcGCtpLhOq1RJLCEJFIQIaOOCqqwEKVdI8VEms5jHv5hx58il0yuChg5FlCDCsnxg//B796axekpNykYA3pfbPtjDAjsAq2GbX8f23brBPA/A1dax19rAnOfpDc6WuQIGNgGLq47mrwHXO4AQ0+6ZEiO5KclFIvA+xl9Ux4YvAX619y+tc9x+gBkqVfLN8DBITBeoux1j3f3dfft35p2/34AGvJyhHk4EvcAAAAGYktHRABZABQAQk+9PdUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfkAgMNGTCcdQVdAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAA3FJREFUOMuNlE9MI3UUx78zv44FjFiKbKCkJF1Mjexh2dl48A8BORJxOVUvEzkJp83GQPRgvFAOXkiJzRol4UJCMNEgIRABUzEVGnRTLMn+obFr2ABuagvTwbYzbWeeByg7RWr7Pf5+v/f5vt97Lw+4RD6fDwBemZube297e/vT5eXl2z09PeLk5CT+VxMTExgdHX03FAr9enJyotMzFeLxOC0uLv40PDzcWRJks9nQ1tYGAM/7/f4vZFl+SkQa/VdPiEhdX1//XZKkHgAcAGBwcPCKz+f7ZGdn50DXT01frKsjIvrKFHx8dvY9EVE+n1cDgcC+1+v9yOJ0Oq+5XK47ra2t9TzPAwDkdBoAPjQnenZ2CwClUikjk8k8zefzjwAARITp6elvotHoH1RBsiwfzs7OLhAR+vr6nll0d3fjy7t35yoBIpHIGoB+q9UKAOCLgGAw+Jzr6tXXUEE2m+262+1mDoej9KKzs/P1SCRSKQHKZrOFqampX4rm5xlIkvR+U1OTVimDmpoaJorijZGRkZslAIfD8ZbdbudRhURRZG63+3MAp33jOQae518mIguqk7Wjo+PtgYGBW6eOHIExpmUymZMqAdB1HV1dXW/wAGAYBjiOSySTSaHaeE3TIMvyX+d/VlX1nqIoVQEURckREcbGxkLngN3d3d8KhUJV9sfHx/F0Op0AcP8cMD4+HmKMVVXE+vp6ezKZfAJA4U1FEYiIqgE0NDTUGoaheb1emB0LhmFwVRbR4nQ6rw0NDTWbB6dOURQA0CtF5/N5jef5egBOM+BvIlLD4XCqEiAajfJnu4OZAQ/+fPz4h0QiYc9ms2WzKBQK+sHBgaCcprtdMvsPHj78jOM4xGKxsv08OjpSAWB/f3+6t7dXY+bLra2thCiKLkEQbjY2NuZqa2vZxQnc3Ny0chyHH9fWPpifn09eZvLCwsJCPBgMGhd3QSwWy6ysrJDf758vbmV2CSDX0tLyj8vlekdRlFRzc3NN8SIcDltUVc1JktQNIFsOAE3T7rW3t98QBOE6gJzdbuc2NjbUXC4n7O3tfb20tPRd8W3ZwZEk6SWPx3PfYrFcISKDMcanUqk9j8fzatG9ZCNd1MzMTKK/v/9NXdezjDGe4ziEQiGPObjsF8xdOzw8/FYUxcbV1dWPA4HAz/F4vOTBv5zvKdhA62boAAAAAElFTkSuQmCC\""],"sourceRoot":""}