(this["webpackJsonpbugs-2020"]=this["webpackJsonpbugs-2020"]||[]).push([[0],{117:function(e,t,a){e.exports=a.p+"static/media/bugs2020.bfb2339d.png"},120:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAeCAYAAAAl+Z4RAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AYht+mSkVaHOwg6pChOlkQFXGUViyChdJWaNXB5NI/aNKQpLg4Cq4FB38Wqw4uzro6uAqC4A+Ik6OToouU+F1SaBHjHcc9vPe9L3ffAUKzylSzZxJQNctIJ2JiLr8qBl4hwI8QzRGJmXoys5iF5/i6h4/vd1Ge5V335wgpBZMBPpF4numGRbxBPLtp6Zz3icOsLCnE58QTBl2Q+JHrsstvnEsOCzwzbGTTceIwsVjqYrmLWdlQiWeII4qqUb6Qc1nhvMVZrdZZ+578hcGCtpLhOq1RJLCEJFIQIaOOCqqwEKVdI8VEms5jHv5hx58il0yuChg5FlCDCsnxg//B796axekpNykYA3pfbPtjDAjsAq2GbX8f23brBPA/A1dax19rAnOfpDc6WuQIGNgGLq47mrwHXO4AQ0+6ZEiO5KclFIvA+xl9Ux4YvAX619y+tc9x+gBkqVfLN8DBITBeoux1j3f3dfft35p2/34AGvJyhHk4EvcAAAAGYktHRABZABQAQk+9PdUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfkAgMNGTCcdQVdAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAA3FJREFUOMuNlE9MI3UUx78zv44FjFiKbKCkJF1Mjexh2dl48A8BORJxOVUvEzkJp83GQPRgvFAOXkiJzRol4UJCMNEgIRABUzEVGnRTLMn+obFr2ABuagvTwbYzbWeeByg7RWr7Pf5+v/f5vt97Lw+4RD6fDwBemZube297e/vT5eXl2z09PeLk5CT+VxMTExgdHX03FAr9enJyotMzFeLxOC0uLv40PDzcWRJks9nQ1tYGAM/7/f4vZFl+SkQa/VdPiEhdX1//XZKkHgAcAGBwcPCKz+f7ZGdn50DXT01frKsjIvrKFHx8dvY9EVE+n1cDgcC+1+v9yOJ0Oq+5XK47ra2t9TzPAwDkdBoAPjQnenZ2CwClUikjk8k8zefzjwAARITp6elvotHoH1RBsiwfzs7OLhAR+vr6nll0d3fjy7t35yoBIpHIGoB+q9UKAOCLgGAw+Jzr6tXXUEE2m+262+1mDoej9KKzs/P1SCRSKQHKZrOFqampX4rm5xlIkvR+U1OTVimDmpoaJorijZGRkZslAIfD8ZbdbudRhURRZG63+3MAp33jOQae518mIguqk7Wjo+PtgYGBW6eOHIExpmUymZMqAdB1HV1dXW/wAGAYBjiOSySTSaHaeE3TIMvyX+d/VlX1nqIoVQEURckREcbGxkLngN3d3d8KhUJV9sfHx/F0Op0AcP8cMD4+HmKMVVXE+vp6ezKZfAJA4U1FEYiIqgE0NDTUGoaheb1emB0LhmFwVRbR4nQ6rw0NDTWbB6dOURQA0CtF5/N5jef5egBOM+BvIlLD4XCqEiAajfJnu4OZAQ/+fPz4h0QiYc9ms2WzKBQK+sHBgaCcprtdMvsPHj78jOM4xGKxsv08OjpSAWB/f3+6t7dXY+bLra2thCiKLkEQbjY2NuZqa2vZxQnc3Ny0chyHH9fWPpifn09eZvLCwsJCPBgMGhd3QSwWy6ysrJDf758vbmV2CSDX0tLyj8vlekdRlFRzc3NN8SIcDltUVc1JktQNIFsOAE3T7rW3t98QBOE6gJzdbuc2NjbUXC4n7O3tfb20tPRd8W3ZwZEk6SWPx3PfYrFcISKDMcanUqk9j8fzatG9ZCNd1MzMTKK/v/9NXdezjDGe4ziEQiGPObjsF8xdOzw8/FYUxcbV1dWPA4HAz/F4vOTBv5zvKdhA62boAAAAAElFTkSuQmCC"},121:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpSIVQTuIOGSoThZERXQrVSyChdJWaNXB5NIvaNKQpLg4Cq4FBz8Wqw4uzro6uAqC4AeIk6OToouU+L+k0CLGg+N+vLv3uHsHCI0KU82uCUDVLCMVj4nZ3KoYeIUAP4KYw4DETD2RXszAc3zdw8fXuwjP8j735+hT8iYDfCJxlOmGRbxBPLNp6Zz3iUOsJCnE58TjBl2Q+JHrsstvnIsOCzwzZGRS88QhYrHYwXIHs5KhEk8ThxVVo3wh67LCeYuzWqmx1j35C4N5bSXNdZojiGMJCSQhQkYNZVRgIUKrRoqJFO3HPPzDjj9JLplcZTByLKAKFZLjB/+D392ahalJNykYA7pfbPtjFAjsAs26bX8f23bzBPA/A1da219tALOfpNfbWvgI6N8GLq7bmrwHXO4AQ0+6ZEiO5KcpFArA+xl9Uw4YvAV619zeWvs4fQAy1NXyDXBwCIwVKXvd4909nb39e6bV3w9v4HKm51QXzgAAAAZiS0dEAFkAFABCT7091QAAAAlwSFlzAAAN1wAADdcBQiibeAAAAAd0SU1FB+QCAww7IVC1CbgAAAJ2SURBVCjPjZO/TxNhGMe/d/e+LXdHbWkp10IbkDKUK9AghDioiUNjYsBEnViZZHTCRBf9Bxx1IsZAdNCYqIvWhISaOKASalpwqIFALQVOKOWOwv1yuTMaQ/RZvnnffD/v8+PNA5wcs94eogKYxX9EK4ARACKAocSkZGbeDdqJSckEMOTcjwAIuwDraJiX6cfeqVhOSNEiAMbSLQYAHGWEFC32TsVyvEwXnES/4MHTVyPxWCbsSU7E2wFkxQ7eBACxgzcAZJMT8WgsE/Z0jUlRAN0AwDhwUEjRxeREvD2U9hNDM00icJxbnntWlmrGyvT6d62gywBUFx5yHsqeeyL7dhZrxqmESPwJkdv+vHccPhPwGIemOTeWrwPIALABfGIAzCQmpXFLt1mxo0lnOIbe5i3z0Yst1rwnM+aRZXFelgWASk7R1XKDspSxSg+qTxlvD1EvPOwX3BIbyrGRv18i0fMhLX6pTVh/s6VVcoowcDNhNIU8xPXN3/iiceYPS2ZEu0/J13C0qxstSR+VzgaNll6fFwCCj9fInWttVnZTJ/VVTa9+2OX2vh5Y22/rz/7q+eLLAd/BxqHVHOMZ27JtrXrE7pdUo3XQT96PF//o2Z3ovpCi8/23uoLNcZ4QgQMROKLk941Q3ykqRpsYb4BygbRAauWDy/q2dReA7v5zX+eoFAml/VRZqhlzY/l6JacYbcMBbyWn6HNX8nVlqWaE0n7SOSpFAKQAwB1AafVVtQIguva6ugngulpuLACAWm5QAJmV6fXnnaPHEcf37Xd457CoDy8XN7oBFAAkWcpYAFhHba2gy8uFjZQD7vxrUWacrZo5yfAT7Nr+OBIJPnoAAAAASUVORK5CYII="},122:function(e,t,a){e.exports=a.p+"static/media/background_water.a3caee81.png"},140:function(e,t,a){e.exports=a(256)},149:function(e,t,a){},256:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a(18),l=a(46),c=a(26),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MEASURE":var a=t.payload.measure;return[].concat(Object(c.a)(e.slice(Math.max(e.length-100,0))),[a]);case"RESET_MEASURE":return[];default:return e}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SPECIES_COUNT":return[].concat(Object(c.a)(e.slice(Math.max(e.length-100,0))),[t.payload.species]);case"RESET_SPECIES_COUNT":return[];default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PLAY",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTROL":return t.payload.control;default:return e}},d={ticks:0,bugs:0,algae:0,totalBugs:10,totalSpecies:10},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TRACKER":return Object.assign({},t.payload.tracker);default:return e}},m={maxBugs:200,breedingCost:100,maxAlgae:800,algaeBreedThreshold:100,sampleInterval:100,mutationRate:20},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PARAMETERS":return Object.assign({},t.payload.parameters);case"RESET_PARAMETERS":return Object.assign({},m);default:return e}},b=Object(l.b)({measures:s,species:u,control:g,tracker:h,parameters:p}),f=Object(l.c)(b,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),A=(a(149),a(308)),E=a(134),v=a(44),y=a(20),C=a(127),x=a(289),O=a(305),w=a(306),k=a(75),S=a(307),M=a(310),j=a(304),T=a(312),B=a(303),R=a(302),N=a(132),P=a.n(N),I=a(133),D=a.n(I),Q=a(131),U=a.n(Q),H=a(129),W=a.n(H),Z=a(130),V=a.n(Z),X=function(e){return{type:"SET_CONTROL",payload:{control:e}}},F=function(e){return e.parameters?e.parameters:{}},L=a(311),z=a(292),K=Object(x.a)((function(e){return{root:{width:250,margin:20},margin:{height:e.spacing(3)},button:{margin:5}}})),J=[{value:100,label:"100"},{value:200,label:"200"},{value:300,label:"300"},{value:400,label:"400"},{value:500,label:"500"},{value:600,label:"600"},{value:700,label:"700"},{value:800,label:"800"},{value:900,label:"900"},{value:1e3,label:"1000"}],G=[{value:100,label:"100"},{value:150,label:"150"},{value:200,label:"200"},{value:250,label:"250"},{value:300,label:"300"},{value:350,label:"350"},{value:400,label:"400"},{value:450,label:"450"},{value:500,label:"500"}],Y=[{value:10,label:"10"},{value:20,label:"20"},{value:30,label:"30"},{value:40,label:"40"},{value:50,label:"50"},{value:60,label:"60"},{value:70,label:"70"},{value:80,label:"80"},{value:90,label:"90"},{value:100,label:"100"}];var q=Object(i.b)((function(e){return{parameters:F(e)}}),{setParameters:function(e){return{type:"SET_PARAMETERS",payload:{parameters:e}}},resetParameters:function(){return{type:"RESET_PARAMETERS"}}})((function(e){var t=K(),a=Object(n.useState)(e.parameters),o=Object(v.a)(a,2),i=o[0],l=o[1];return r.a.createElement("div",{className:t.root},r.a.createElement(k.a,{id:"max-bugs-slider",gutterBottom:!0},"Maximum Bug Population"),r.a.createElement(L.a,{value:i.maxBugs,onChange:function(e,t){var a=Object.assign({},i);a.maxBugs=t,l(a)},"aria-labelledby":"max-bugs-slider",step:10,marks:G,min:50,max:300}),r.a.createElement("div",{className:t.margin}),r.a.createElement(k.a,{id:"bug-breed-cost-slider",gutterBottom:!0},"Bug Breeding Cost (Energy)"),r.a.createElement(L.a,{value:i.breedingCost,onChange:function(e,t){var a=Object.assign({},i);a.breedingCost=t,l(a)},"aria-labelledby":"bug-breed-cost-slider",step:10,marks:J,min:0,max:500}),r.a.createElement("div",{className:t.margin}),r.a.createElement(k.a,{id:"max-algae-slider",gutterBottom:!0},"Maximum Algae Population"),r.a.createElement(L.a,{value:i.maxAlgae,onChange:function(e,t){var a=Object.assign({},i);a.maxAlgae=t,l(a)},"aria-labelledby":"max-algae-slider",step:50,marks:J,min:400,max:1e3}),r.a.createElement("div",{className:t.margin}),r.a.createElement(k.a,{id:"algae-breed-threshold-slider",gutterBottom:!0},"Algae Breeding Threshold (Energy)"),r.a.createElement(L.a,{value:i.algaeBreedThreshold,onChange:function(e,t){var a=Object.assign({},i);a.algaeBreedThreshold=t,l(a)},"aria-labelledby":"algae-breed-threshold-slider",step:10,marks:G,min:50,max:300}),r.a.createElement("div",{className:t.margin}),r.a.createElement(k.a,{id:"algae-mutation-rate-slider",gutterBottom:!0},"Mutation Chance (1 in n)"),r.a.createElement(L.a,{value:i.mutationRate,onChange:function(e,t){var a=Object.assign({},i);a.mutationRate=t,l(a)},"aria-labelledby":"algae-mutation-rate-slider",step:1,marks:Y,min:10,max:100}),r.a.createElement("div",{className:t.margin}),r.a.createElement(z.a,{className:t.button,variant:"contained",onClick:function(){e.setParameters(i),e.toggle(!1)}},"Save"),r.a.createElement(z.a,{className:t.button,variant:"contained",onClick:function(){e.resetParameters(),l(e.parameters)}},"Reset"),r.a.createElement(z.a,{className:t.button,variant:"contained",onClick:function(){e.toggle(!1)}},"Close"))})),_=a(293),$=a(294),ee=a(295),te=a(117),ae=a.n(te),ne=Object(x.a)({card:{maxWidth:1e3,maxHeight:500,margin:5,display:"flex",flexDirection:"row"},content:{width:"80%"},media:{margin:5,height:100,width:100}});var re=function(){var e=ne();return r.a.createElement(_.a,{className:e.card},r.a.createElement($.a,{className:e.media,image:ae.a,title:"Bugs 2020"}),r.a.createElement(ee.a,{className:e.content},r.a.createElement(k.a,{variant:"body1",color:"textSecondary",component:"p"},"Exploring machine learning and evolutionary adaptation by observing synthetic creatures ('bugs') in a dynamic environment.")))},oe=a(55),ie=a(89),le=a(13),ce=a(14),se=a(16),ue=a(12),ge=a(17),de=a(29),he=a(6),me=a(119),pe=(Object(de.PixiComponent)("Viewport",{create:function(e){var t=new me.a({screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:1e3,worldHeight:500});return console.log(e),t.drag().pinch().wheel().decelerate(),t},applyProps:function(e,t,a){console.log("applyProps")},didMount:function(){console.log("didMount")},willUnmount:function(){console.log("willUnmount")}}),a(91)),be=a.n(pe);a(309),Object(x.a)((function(e){return{root:{height:300,flexGrow:1,minWidth:300,transform:"translateZ(0)","@media all and (-ms-high-contrast: none)":{display:"none"}},modal:{display:"flex",padding:e.spacing(1),alignItems:"center",justifyContent:"center"},paper:{width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function fe(e,t){var a,n,r,o;return!1,e.centerX=e.x+e.width/2,e.centerY=e.y+e.height/2,t.centerX=t.x+t.width/2,t.centerY=t.y+t.height/2,e.halfWidth=e.width/2,e.halfHeight=e.height/2,t.halfWidth=t.width/2,t.halfHeight=t.height/2,r=e.centerX-t.centerX,o=e.centerY-t.centerY,a=e.halfWidth+t.halfWidth,n=e.halfHeight+t.halfHeight,Math.abs(r)<a&&Math.abs(o)<n}var Ae=a(120),Ee=a.n(Ae),ve=a(121),ye=a.n(ve),Ce=a(122),xe=a.n(Ce),Oe=Object(x.a)({card:function(e){return{maxWidth:1e3,maxHeight:500,backgroundImage:"url("+xe.a+")",margin:5,display:"flex",flexDirection:"row"}}}),we={ticks:0,bugs:0,algae:0,speciesCounts:{},totalBugs:10,totalSpecies:10},ke={bugs:5,algae:500,properties:{position:!0,rotation:!0,scale:!1,uvs:!1,alpha:!1},listeners:[],onChange:function(e,t){this.listeners.forEach((function(a){return a(e,t)}))}},Se=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(se.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r)))).state=Object(ie.a)({},ke.properties,{bugs:ke.bugs,algae:ke.algae,changed:!1}),a.onChange=function(e,t){var n;a.setState((n={},Object(oe.a)(n,e,t),Object(oe.a)(n,"changed",!0),n)),clearTimeout(a.changeTimeout),a.changeTimeout=setTimeout((function(){return a.setState({changed:!1})}),0)},a}return Object(ge.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){ke.listeners.push(this.onChange)}},{key:"render",value:function(){return this.state.changed?null:this.props.children(this.state)}}]),t}(r.a.PureComponent),Me=function(e){return r.a.createElement(de.Sprite,Object.assign({},e,{image:Ee.a,anchor:.5,overwriteProps:!0,ignoreEvents:!0,interactive:!0,pointerdown:function(){console.log(e)}}))},je=[[-10,-10],[-10,0],[10,10],[0,-10],[0,10],[10,-10],[10,0],[10,10]],Te=function(e){return r.a.createElement(de.Sprite,Object.assign({},e,{image:ye.a,anchor:.5,overwriteProps:!0,ignoreEvents:!0}))},Be=r.a.createElement(de.Text,{text:"All Bugs Dead",anchor:0,x:380,y:250,style:new he.TextStyle({fontSize:30,fontFamily:"Courier",fontWeight:"bold",fill:"#ff0000"})});function Re(e){var t=Object(c.a)(Array(e)).map((function(){return{speed:Math.ceil(.5*(2+4*Math.random())),turningSpeed:Math.random()-.8,direction:Math.random()*Math.PI*2,tint:Math.round(16777215*Math.random()),x:1e3*Math.random(),y:500*Math.random(),_s:.6,rotation:0,width:15,height:30,energy:400,cycles:0,breedThreshold:Math.floor(1e3*Math.random())+1e3,geneology:{id:be()(),parent:"SEED",children:[]}}}));return t.forEach((function(e){we.speciesCounts[e.tint]=1})),t}function Ne(e){return Object(c.a)(Array(e)).map((function(){return{x:1e3*Math.random(),y:500*Math.random(),width:12,height:12,energy:Math.floor(50*Math.random())+50}}))}var Pe=Object(de.withPixiApp)(function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(se.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r)))).time=0,a.bounds=null,a.state={bugs:[],algae:[],bugCount:0,algaeCount:0},a.deaths=function(e){return e.forEach((function(t,a){0===t.energy&&(e.splice(a,1),we.speciesCounts[t.tint]--)})),e},a.bugLogic=function(e){var t=a.deaths(e);return t.forEach((function(e){if(e.energy>=e.breedThreshold&&t.length<a.props.parameters.maxBugs){we.totalBugs++,e.energy=Math.round(e.energy/2)-a.props.parameters.breedingCost;var n=Object.assign({},a.evolve(e));n.direction=Math.random()*Math.PI*2;var r=be()();e.geneology.children.push(r),n.geneology={id:r,parent:e.geneology.id,children:[]},n.cycles=0,t.push(n),we.speciesCounts[n.tint]?we.speciesCounts[n.tint]++:we.speciesCounts[n.tint]=1}t.forEach((function(t){e.tint!==t.tint&&e.x!==t.x&&e.y!==t.y&&fe(e,t)&&(e.direction+=.75*(Math.random()-.5),t.energy>0&&(e.energy+=Math.min(500,t.energy),t.energy=Math.max(0,t.energy-500)))}));var o=a.state.algae;o.forEach((function(t,a){fe(e,t)&&(e.direction+=.75*(Math.random()-.5),t.energy>0&&(e.energy+=Math.min(500,t.energy),t.energy=Math.max(0,t.energy-500)))})),a.setState({algae:o}),e.x=e.x+Math.sin(e.direction)*(e.speed*e._s),e.y=e.y+Math.cos(e.direction)*(e.speed*e._s),e.rotation=-e.direction+Math.PI,e.direction=e.direction+e.turningSpeed*(Math.random()-.5)*.5,e.energy=Math.max(0,e.energy-(2+Math.ceil(e.speed))),e.cycles++})),t},a.evolve=function(e){var t=Object.assign({},e);if(0===Math.floor(Math.random()*a.props.parameters.mutationRate)){we.totalSpecies++,t.tint=e.tint+Math.round(65535*Math.random())-34952;var n=Math.round(2*Math.random());switch(n){case 0:t.turningSpeed=e.turningSpeed+(.2*Math.random()-.1);break;case 1:t.speed=e.speed+Math.floor(4*Math.random())-2;break;case 2:t.breedThreshold+=e.breedThreshold+Math.floor(20*Math.random())-10;break;default:console.log("no change ...",n)}}return t},a.algaeLogic=function(e){var t=a.deaths(e);return t.forEach((function(e){if(e.energy>=a.props.parameters.algaeBreedThreshold&&t.length<a.props.parameters.maxAlgae){var n=Object.assign({},e),r=Math.floor(Math.random()*je.length);n.x+=je[r][0]+Math.floor(8*Math.random())-4,n.y+=je[r][1]+Math.floor(8*Math.random())-4,n.x<a.bounds.x?n.x+=a.bounds.width:n.x>a.bounds.x+a.bounds.width&&(n.x-=a.bounds.width),n.y<a.bounds.y?n.y+=a.bounds.height:n.y>a.bounds.y+a.bounds.height&&(n.y-=a.bounds.height);for(var o=!1,i=0;i<t.length;i++)if(fe(n,t[i])){o=!0;break}o||(e.energy=Math.round(e.energy/2),n.energy=Math.round(e.energy/2),t.push(n))}e.energy=Math.min(a.props.parameters.algaeBreedThreshold,e.energy+1)})),t},a.tick=function(){if(a.setState((function(e){var t=e.bugs,n=e.algae;return{bugs:a.bugLogic(t,n).map((function(e,t){var n=Object.assign({},e);return n.x<a.bounds.x?n.x+=a.bounds.width:n.x>a.bounds.x+a.bounds.width&&(n.x-=a.bounds.width),n.y<a.bounds.y?n.y+=a.bounds.height:n.y>a.bounds.y+a.bounds.height&&(n.y-=a.bounds.height),Object(ie.a)({},e,{},n)}))}})),a.setState((function(e){var t=e.algae;return{algae:a.algaeLogic(t)}})),0===a.state.bugs.length&&a.props.app.ticker.stop(),we.ticks++,we.ticks%a.props.parameters.sampleInterval===0){var e={cycle:we.ticks,bugs:a.state.bugs.length,algae:a.state.algae.length};a.props.addMeasure(e),we.bugs=a.state.bugs.length,we.algae=a.state.algae.length,a.props.setTracker(we),Object.entries(we.speciesCounts).forEach((function(e){var t=Object(v.a)(e,2),a=t[0];t[1];0!==we.speciesCounts[a]&&"undefined"!==a||delete we.speciesCounts[a]}));var t=Object.keys(we.speciesCounts).map((function(e){return{species:e,count:we.speciesCounts[e]}})),n={cycle:we.ticks,counts:t};a.props.addSpeciesCount(n)}a.time+=.1},a}return Object(ge.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){this.bounds=new he.Rectangle(-10,-10,Number(this.props.app.screen.width)+10,Number(this.props.app.screen.height)+10),this.props.app.ticker.add(this.tick)}},{key:"componentWillUnmount",value:function(){this.props.app.ticker.remove(this.tick)}},{key:"render",value:function(){var e=this.state.algae.map((function(e){return r.a.createElement(Te,e)})),t=this.state.bugs.map((function(e){return r.a.createElement(Me,e)})),a="        Cycle: ".concat(we.ticks).concat("\n Current Bugs: ").concat(this.state.bugs.length).concat("\nCurrent Algae: ").concat(this.state.algae.length).concat("\n   Total Bugs: ").concat(we.totalBugs).concat("\nTotal Species: ").concat(we.totalSpecies),n=r.a.createElement(de.Text,{text:a,anchor:0,x:5,y:5,style:new he.TextStyle({fontSize:14,fontFamily:"Courier",fontWeight:"bold",fill:"#000080"})});switch(this.props.control){case"PLAY":this.props.app.ticker.started||this.props.app.ticker.start();break;case"PAUSE":this.props.app.ticker.stop();break;case"RESET":this.props.app.ticker.stop(),this.state.bugs=Re(ke.bugs),this.state.algae=Ne(ke.algae),this.props.resetMeasure(),this.props.resetSpeciesCount(),we.ticks=0,we.totalBugs=10,we.totalSpecies=10,this.props.app.ticker.start(),this.props.setControl("PLAY");break;default:console.log("command not recognised ...")}return this.state.bugs.length>0?[].concat(Object(c.a)(e),Object(c.a)(t),[n]):[].concat(Object(c.a)(e),Object(c.a)(t),[n,Be])}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.bugCount===e.bugCount&&t.algaeCount===e.algaeCount)return t;var a=Ne(e.algaeCount),n=Re(e.bugCount);return{bugs:n,algae:a,bugCount:n.length,algaeCount:a.length}}}]),t}(r.a.PureComponent));var Ie=Object(i.b)((function(e){return{control:function(e){return e.control?e.control:{}}(e),parameters:F(e)}}),{addMeasure:function(e){return{type:"ADD_MEASURE",payload:{measure:e}}},addSpeciesCount:function(e){return{type:"ADD_SPECIES_COUNT",payload:{species:e}}},resetMeasure:function(){return{type:"RESET_MEASURE"}},resetSpeciesCount:function(){return{type:"RESET_SPECIES_COUNT"}},setControl:X,setTracker:function(e){return{type:"SET_TRACKER",payload:{tracker:e}}}})((function(e){var t=Oe(e);return r.a.createElement(_.a,{className:t.card},r.a.createElement(de.Stage,{width:e.width,height:e.height,options:{transparent:!0}},r.a.createElement(Se,null,(function(t){return r.a.createElement(de.Container,{properties:t},r.a.createElement(Pe,{control:e.control,parameters:e.parameters,setControl:e.setControl,setTracker:e.setTracker,addMeasure:e.addMeasure,addSpeciesCount:e.addSpeciesCount,resetMeasure:e.resetMeasure,resetSpeciesCount:e.resetSpeciesCount,bugCount:t.bugs,algaeCount:t.algae}))}))))})),De=a(73),Qe=Object(x.a)({card:{maxWidth:1e3,maxHeight:300,margin:5}}),Ue={responsive:!0,animation:!1,scales:{xAxes:[{display:!0,type:"linear",position:"bottom",ticks:{stepSize:100}}],yAxes:[{id:"bugs",position:"left",display:!0},{id:"algae",position:"right",display:!0}]},legend:{display:!0,labels:{fontColor:"rgb(63, 63, 191, 0.9)"}},layout:{padding:{left:10,right:10,top:5,bottom:5}}};var He=Object(i.b)((function(e){return{measures:function(e){return e.measures?e.measures:[]}(e)}}))((function(e){var t=e.measures,a=Qe(),n={datasets:[{label:"Bugs",data:t&&t.length?t.map((function(e){return{x:e.cycle,y:e.bugs}})):[],yAxisID:"bugs",borderColor:"rgba(191, 63, 63, 0.5)",backgroundColor:"rgba(191, 63, 63, 0.3)",borderWidth:1,pointRadius:1,pointHoverRadius:1},{label:"Algae",data:t&&t.length?t.map((function(e){return{x:e.cycle,y:e.algae}})):[],yAxisID:"algae",borderColor:"rgba(0, 138, 0, 0.7)",backgroundColor:"rgba(0, 138, 0, 0.3)",borderWidth:1,pointRadius:1,pointHoverRadius:1}]};return r.a.createElement(_.a,{className:a.card},r.a.createElement(De.a,{data:n,width:1e3,height:300,options:Ue}))})),We=Object(x.a)({card:{maxWidth:1e3,maxHeight:500,margin:5}}),Ze={responsive:!0,animation:!1,scales:{xAxes:[{display:!0,type:"linear",position:"bottom",ticks:{stepSize:100}}],yAxes:[{display:!0,position:"left"}]},legend:{display:!0,labels:{fontColor:"rgb(63, 63, 191, 0.9)"}},layout:{padding:{left:10,right:10,top:5,bottom:5}}};var Ve=Object(i.b)((function(e){return{species:function(e){return e.species?e.species:[]}(e)}}))((function(e){var t=e.species,a=We(),n=[];t.forEach((function(e){e.counts.forEach((function(t){n[t.species]?n[t.species].push({x:e.cycle,y:t.count}):n[t.species]=[{x:e.cycle,y:t.count}]}))}));var o={datasets:Object.keys(n).map((function(e){var t=he.utils.premultiplyTintToRgba(e,.5),a=[597*t[0],597*t[1],597*t[2]],r="rgba("+a[0]+","+a[1]+","+a[2]+", 0.9)",o="rgba("+a[0]+","+a[1]+","+a[2]+", 0.5)";return{label:e,data:n[e],borderColor:r,backgroundColor:o,borderWidth:1,pointRadius:1,pointHoverRadius:1,spanGaps:!1}}))};return r.a.createElement(_.a,{className:a.card},r.a.createElement(De.a,{data:o,width:1e3,height:500,options:Ze}))})),Xe=a(125),Fe=a.n(Xe),Le=a(124),ze=a.n(Le),Ke=a(126),Je=a.n(Ke),Ge=Object(x.a)({card:{maxWidth:1e3,maxHeight:100,margin:5,display:"flex",flexDirection:"row"},button:{margin:5}});var Ye=Object(i.b)(null,{setControl:X})((function(e){var t=Ge();return r.a.createElement(_.a,{className:t.card},r.a.createElement(z.a,{className:t.button,variant:"contained",onClick:function(){e.setControl("PAUSE")}},r.a.createElement(ze.a,null)),r.a.createElement(z.a,{className:t.button,variant:"contained",onClick:function(){e.setControl("PLAY")}},r.a.createElement(Fe.a,null)),r.a.createElement(z.a,{className:t.button,variant:"contained",onClick:function(){e.setControl("RESET")}},r.a.createElement(Je.a,null)))})),qe=a(297),_e=a(301),$e=a(300),et=a(296),tt=a(298),at=a(299),nt=a(136),rt=Object(x.a)({card:{maxWidth:1e3,maxHeight:200,margin:5}});var ot=Object(i.b)((function(e){return{tracker:function(e){return e.tracker?e.tracker:{}}(e)}}))((function(e){var t=e.tracker,a=rt();return r.a.createElement(_.a,{className:a.card},r.a.createElement(et.a,{component:nt.a},r.a.createElement(qe.a,{className:a.table,size:"small","aria-label":"tracker data"},r.a.createElement(tt.a,null,r.a.createElement(at.a,null,r.a.createElement($e.a,{align:"right"},"Cycle"),r.a.createElement($e.a,{align:"right"},"Bugs"),r.a.createElement($e.a,{align:"right"},"Algae"),r.a.createElement($e.a,{align:"right"},"Total Bugs"),r.a.createElement($e.a,{align:"right"},"Total Species"))),r.a.createElement(_e.a,null,r.a.createElement(at.a,{key:t.ticks},r.a.createElement($e.a,{align:"right"},t.ticks),r.a.createElement($e.a,{align:"right"},t.bugs),r.a.createElement($e.a,{align:"right"},t.algae),r.a.createElement($e.a,{align:"right"},t.totalBugs),r.a.createElement($e.a,{align:"right"},t.totalSpecies))))))})),it=Object(x.a)((function(e){return{root:{flexGrow:1},offset:e.mixins.toolbar,menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},menu:{width:250}}}));var lt=function(){var e=it(),t=Object(n.useState)(!1),a=Object(v.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(v.a)(l,2),s=c[0],u=c[1],g=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&i(e)}},d=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&u(e)}},h=function(e){var t=e.icon,a=e.primary,n=e.to,o=r.a.useMemo((function(){return r.a.forwardRef((function(e,t){return r.a.createElement(C.a,Object.assign({to:n,ref:t},e))}))}),[n]);return r.a.createElement(T.a,{button:!0,component:o},t?r.a.createElement(R.a,null,t):null,r.a.createElement(B.a,{primary:a}))};return r.a.createElement(y.a,{initialEntries:["/about"],initialIndex:0},r.a.createElement("div",{className:e.root},r.a.createElement(O.a,{position:"fixed"},r.a.createElement(w.a,null,r.a.createElement(S.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:d(!0)},r.a.createElement(P.a,null)),r.a.createElement(k.a,{variant:"h6",className:e.title},"Bugs 2020"),r.a.createElement(S.a,{edge:"end",className:e.menuButton,color:"inherit","aria-label":"settings",onClick:g(!0)},r.a.createElement(D.a,null)))),r.a.createElement(M.a,{anchor:"left",open:s,onClose:d(!1)},r.a.createElement("div",{className:e.menu,role:"presentation",onClick:d(!1),onKeyDown:d(!1)},r.a.createElement(j.a,{component:"nav","aria-label":"navigation"},[{text:"Home",icon:r.a.createElement(W.a,null),href:"/"},{text:"Simulation",icon:r.a.createElement(V.a,null),href:"/simulation"},{text:"About",icon:r.a.createElement(U.a,null),href:"/about"}].map((function(e,t){return r.a.createElement(h,{to:e.href,primary:e.text,icon:e.icon})}))))),r.a.createElement(M.a,{anchor:"right",open:o,onClose:g(!1)},r.a.createElement(q,{toggle:g()}))),r.a.createElement(y.d,null,r.a.createElement(y.b,{exact:!0,path:"/"},r.a.createElement("div",null)),r.a.createElement(y.b,{exact:!0,path:"/simulation"},r.a.createElement("div",{className:e.offset}),r.a.createElement("div",null,r.a.createElement(Ye,null),r.a.createElement(Ie,{width:1e3,height:500}),r.a.createElement(ot,null),r.a.createElement(He,null),r.a.createElement(Ve,null))),r.a.createElement(y.b,{path:"/about"},r.a.createElement("div",{className:e.offset}),r.a.createElement("div",null,r.a.createElement(re,null)))))},ct=Object(E.a)({palette:{type:"light"}});Object(o.render)(r.a.createElement(i.a,{store:f},r.a.createElement((function(){return r.a.createElement("div",{className:"App"},r.a.createElement(A.a,{theme:ct},r.a.createElement(lt,null)))}),null)),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.1f6b98bb.chunk.js.map