{"version":3,"sources":["assets/bugs2020.png","assets/background_water.png","assets/flatworm.png","assets/algae_small.png","components/Simulation/bugs.js","redux/reducers/bugs.js","redux/actionTypes.js","components/Simulation/algae.js","redux/reducers/algae.js","redux/reducers/measures.js","redux/reducers/species.js","redux/reducers/control.js","redux/reducers/tracker.js","redux/reducers/parameters.js","redux/reducers/index.js","redux/store.js","redux/actions.js","redux/selectors.js","components/Parameters/Parameters.jsx","components/Parameters/index.jsx","components/Title/Title.jsx","components/Title/index.jsx","components/About/About.jsx","components/About/index.jsx","components/ReactViewport/ReactViewport.jsx","components/Simulation/physics.js","components/Simulation/Engine.jsx","components/Simulation/Simulation.jsx","components/Simulation/index.jsx","components/SummaryChart/SummaryChart.jsx","components/SummaryChart/index.jsx","components/SpeciesChart/SpeciesChart.jsx","components/SpeciesChart/index.jsx","components/Bug/Bug.jsx","components/Bug/index.jsx","components/BugList/BugList.jsx","components/BugList/index.jsx","components/Controls/Controls.jsx","components/Controls/index.jsx","components/Tracker/Tracker.jsx","components/Tracker/index.jsx","components/SimWrapper/SimWrapper.jsx","components/SimWrapper/index.jsx","components/Header/Header.jsx","components/Header/index.jsx","App.jsx","index.jsx"],"names":["module","exports","initBugs","count","Array","map","speed","Math","ceil","random","turningSpeed","direction","PI","tint","round","x","y","_s","rotation","width","height","energy","cycles","breedSize","floor","breedThreshold","geneology","id","uuidv4","parent","children","bugs","state","action","type","payload","bug","filter","value","index","arr","item","initAlgae","algae","measures","measure","slice","max","length","species","control","initTracker","ticks","totalBugs","totalSpecies","tracker","Object","assign","initParameters","maxBugs","breedingCost","maxAlgae","algaeBreedThreshold","sampleInterval","mutationRate","parameters","combineReducers","createStore","rootReducer","window","__REDUX_DEVTOOLS_EXTENSION__","setControl","getParameters","getBugs","useStyles","makeStyles","theme","root","margin","spacing","button","largeMarks","label","mediumMarks","smallMarks","Parameters","connect","setParameters","resetParameters","props","classes","useState","params","setParams","className","Typography","gutterBottom","Slider","onChange","event","newValue","newParams","aria-labelledby","step","marks","min","Button","variant","onClick","toggle","card","maxWidth","maxHeight","display","flexDirection","content","media","Title","Card","CardMedia","image","TitleImage","title","CardContent","color","component","flex","About","align","PixiComponent","create","viewport","Viewport","screenWidth","innerWidth","screenHeight","innerHeight","worldWidth","worldHeight","console","log","drag","pinch","wheel","decelerate","applyProps","instance","oldProps","newProps","didMount","willUnmount","contact","r1","r2","combinedHalfWidths","combinedHalfHeights","vx","vy","centerX","centerY","halfWidth","halfHeight","abs","speciesCounts","BugSprite","BugImage","anchor","overwriteProps","ignoreEvents","interactive","pointerdown","AlgaeSprite","AlgaeImage","notice","text","style","PIXI","fontSize","fontFamily","fontWeight","fill","Engine","withPixiApp","bounds","bugLogic","forEach","b","i","splice","offspring","evolve","uuid","push","other","sin","cos","change","algaeLogic","angle","radius","isContact","tick","setBugs","app","ticker","stop","sample","cycle","addMeasure","setTracker","entries","key","normal","keys","name","counts","addSpeciesCount","render","message","concat","started","start","setAlgae","resetMeasure","resetSpeciesCount","this","Number","screen","add","remove","React","Component","mapDispatchToProps","addBug","deleteBug","addAlgae","deleteAlgae","getAlgae","getControl","backgroundImage","BackgroundImage","config","properties","position","scale","uvs","alpha","listeners","prop","val","l","Settings","changed","setState","clearTimeout","changeTimeout","setTimeout","PureComponent","Simulation","options","transparent","store","responsive","scales","xAxes","scaleLabel","labelString","fontColor","stepSize","yAxes","legend","labels","layout","padding","left","right","top","bottom","SummaryChart","getMeasures","chartdata","datasets","data","m","yAxisID","borderColor","backgroundColor","borderWidth","pointRadius","pointHoverRadius","SpeciesChart","getSpecies","chartData","element","entry","colour","premultiplyTintToRgba","hexcolour","borderColourString","colourString","spanGaps","flexGrow","minWidth","transform","modal","alignItems","justifyContent","paper","palette","background","border","boxShadow","shadows","BugList","TableContainer","Paper","Table","table","size","aria-label","TableHead","TableRow","TableCell","TableBody","toFixed","Controls","Tracker","getTracker","TabPanel","role","hidden","a11yProps","SimWrapper","setValue","AppBar","Tabs","Tab","offset","mixins","toolbar","menuButton","marginRight","menu","Header","settings","setSettings","setMenu","toggleSettings","open","toggleMenu","ListItemLink","icon","primary","to","renderLink","useMemo","forwardRef","itemProps","ref","ListItem","ListItemIcon","ListItemText","initialEntries","initialIndex","Toolbar","IconButton","edge","Drawer","onClose","onKeyDown","List","href","exact","path","createMuiTheme","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.43f63ce2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bugs2020.bfb2339d.png\";","module.exports = __webpack_public_path__ + \"static/media/background_water.a3caee81.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAeCAYAAAAl+Z4RAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AYht+mSkVaHOwg6pChOlkQFXGUViyChdJWaNXB5NI/aNKQpLg4Cq4FB38Wqw4uzro6uAqC4A+Ik6OToouU+F1SaBHjHcc9vPe9L3ffAUKzylSzZxJQNctIJ2JiLr8qBl4hwI8QzRGJmXoys5iF5/i6h4/vd1Ge5V335wgpBZMBPpF4numGRbxBPLtp6Zz3icOsLCnE58QTBl2Q+JHrsstvnEsOCzwzbGTTceIwsVjqYrmLWdlQiWeII4qqUb6Qc1nhvMVZrdZZ+578hcGCtpLhOq1RJLCEJFIQIaOOCqqwEKVdI8VEms5jHv5hx58il0yuChg5FlCDCsnxg//B796axekpNykYA3pfbPtjDAjsAq2GbX8f23brBPA/A1dax19rAnOfpDc6WuQIGNgGLq47mrwHXO4AQ0+6ZEiO5KclFIvA+xl9Ux4YvAX619y+tc9x+gBkqVfLN8DBITBeoux1j3f3dfft35p2/34AGvJyhHk4EvcAAAAGYktHRABZABQAQk+9PdUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfkAgMNGTCcdQVdAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAA3FJREFUOMuNlE9MI3UUx78zv44FjFiKbKCkJF1Mjexh2dl48A8BORJxOVUvEzkJp83GQPRgvFAOXkiJzRol4UJCMNEgIRABUzEVGnRTLMn+obFr2ABuagvTwbYzbWeeByg7RWr7Pf5+v/f5vt97Lw+4RD6fDwBemZube297e/vT5eXl2z09PeLk5CT+VxMTExgdHX03FAr9enJyotMzFeLxOC0uLv40PDzcWRJks9nQ1tYGAM/7/f4vZFl+SkQa/VdPiEhdX1//XZKkHgAcAGBwcPCKz+f7ZGdn50DXT01frKsjIvrKFHx8dvY9EVE+n1cDgcC+1+v9yOJ0Oq+5XK47ra2t9TzPAwDkdBoAPjQnenZ2CwClUikjk8k8zefzjwAARITp6elvotHoH1RBsiwfzs7OLhAR+vr6nll0d3fjy7t35yoBIpHIGoB+q9UKAOCLgGAw+Jzr6tXXUEE2m+262+1mDoej9KKzs/P1SCRSKQHKZrOFqampX4rm5xlIkvR+U1OTVimDmpoaJorijZGRkZslAIfD8ZbdbudRhURRZG63+3MAp33jOQae518mIguqk7Wjo+PtgYGBW6eOHIExpmUymZMqAdB1HV1dXW/wAGAYBjiOSySTSaHaeE3TIMvyX+d/VlX1nqIoVQEURckREcbGxkLngN3d3d8KhUJV9sfHx/F0Op0AcP8cMD4+HmKMVVXE+vp6ezKZfAJA4U1FEYiIqgE0NDTUGoaheb1emB0LhmFwVRbR4nQ6rw0NDTWbB6dOURQA0CtF5/N5jef5egBOM+BvIlLD4XCqEiAajfJnu4OZAQ/+fPz4h0QiYc9ms2WzKBQK+sHBgaCcprtdMvsPHj78jOM4xGKxsv08OjpSAWB/f3+6t7dXY+bLra2thCiKLkEQbjY2NuZqa2vZxQnc3Ny0chyHH9fWPpifn09eZvLCwsJCPBgMGhd3QSwWy6ysrJDf758vbmV2CSDX0tLyj8vlekdRlFRzc3NN8SIcDltUVc1JktQNIFsOAE3T7rW3t98QBOE6gJzdbuc2NjbUXC4n7O3tfb20tPRd8W3ZwZEk6SWPx3PfYrFcISKDMcanUqk9j8fzatG9ZCNd1MzMTKK/v/9NXdezjDGe4ziEQiGPObjsF8xdOzw8/FYUxcbV1dWPA4HAz/F4vOTBv5zvKdhA62boAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpSIVQTuIOGSoThZERXQrVSyChdJWaNXB5NIvaNKQpLg4Cq4FBz8Wqw4uzro6uAqC4AeIk6OToouU+L+k0CLGg+N+vLv3uHsHCI0KU82uCUDVLCMVj4nZ3KoYeIUAP4KYw4DETD2RXszAc3zdw8fXuwjP8j735+hT8iYDfCJxlOmGRbxBPLNp6Zz3iUOsJCnE58TjBl2Q+JHrsstvnIsOCzwzZGRS88QhYrHYwXIHs5KhEk8ThxVVo3wh67LCeYuzWqmx1j35C4N5bSXNdZojiGMJCSQhQkYNZVRgIUKrRoqJFO3HPPzDjj9JLplcZTByLKAKFZLjB/+D392ahalJNykYA7pfbPtjFAjsAs26bX8f23bzBPA/A1da219tALOfpNfbWvgI6N8GLq7bmrwHXO4AQ0+6ZEiO5KcpFArA+xl9Uw4YvAV619zeWvs4fQAy1NXyDXBwCIwVKXvd4909nb39e6bV3w9v4HKm51QXzgAAAAZiS0dEAFkAFABCT7091QAAAAlwSFlzAAAN1wAADdcBQiibeAAAAAd0SU1FB+QCAww7IVC1CbgAAAJ2SURBVCjPjZO/TxNhGMe/d/e+LXdHbWkp10IbkDKUK9AghDioiUNjYsBEnViZZHTCRBf9Bxx1IsZAdNCYqIvWhISaOKASalpwqIFALQVOKOWOwv1yuTMaQ/RZvnnffD/v8+PNA5wcs94eogKYxX9EK4ARACKAocSkZGbeDdqJSckEMOTcjwAIuwDraJiX6cfeqVhOSNEiAMbSLQYAHGWEFC32TsVyvEwXnES/4MHTVyPxWCbsSU7E2wFkxQ7eBACxgzcAZJMT8WgsE/Z0jUlRAN0AwDhwUEjRxeREvD2U9hNDM00icJxbnntWlmrGyvT6d62gywBUFx5yHsqeeyL7dhZrxqmESPwJkdv+vHccPhPwGIemOTeWrwPIALABfGIAzCQmpXFLt1mxo0lnOIbe5i3z0Yst1rwnM+aRZXFelgWASk7R1XKDspSxSg+qTxlvD1EvPOwX3BIbyrGRv18i0fMhLX6pTVh/s6VVcoowcDNhNIU8xPXN3/iiceYPS2ZEu0/J13C0qxstSR+VzgaNll6fFwCCj9fInWttVnZTJ/VVTa9+2OX2vh5Y22/rz/7q+eLLAd/BxqHVHOMZ27JtrXrE7pdUo3XQT96PF//o2Z3ovpCi8/23uoLNcZ4QgQMROKLk941Q3ykqRpsYb4BygbRAauWDy/q2dReA7v5zX+eoFAml/VRZqhlzY/l6JacYbcMBbyWn6HNX8nVlqWaE0n7SOSpFAKQAwB1AafVVtQIguva6ugngulpuLACAWm5QAJmV6fXnnaPHEcf37Xd457CoDy8XN7oBFAAkWcpYAFhHba2gy8uFjZQD7vxrUWacrZo5yfAT7Nr+OBIJPnoAAAAASUVORK5CYII=\"","import uuidv4 from 'uuid/v4';\n\n/**\n* -----------------------------------------------\n* Init bugs array\n* -----------------------------------------------\n*/\nexport function initBugs(count) {\n  var bugs = [...Array(count)].map(() => ({\n    speed: Math.ceil((2 + Math.random() * 4) * 0.5),\n    turningSpeed: Math.random() - 0.8,\n    direction: Math.random() * Math.PI * 2,\n    tint: Math.round(Math.random() * 0xFFFFFF),\n    // TODO - take width/height from props\n    x: Math.random() * 1000,\n    y: Math.random() * 500,\n    _s: 0.6, // base speed - could add to parameters\n    rotation: 0,\n    // w/h used for collision detection, and controls sprite size\n    width: 15,\n    height: 30,\n    energy: 400,\n    cycles: 0, // track age in cycles\n    breedSize: Math.floor(Math.random() * 10) + 10, // minimum width before breeding\n    breedThreshold: Math.floor(Math.random() * 1000) + 1000,\n    // info to allow geneology reports\n    geneology: {\n      id: uuidv4(),\n      parent: 'SEED', // track parent - this is initial SEED\n      children: [] // empty to start\n    }\n  }));\n\n  return bugs;\n}","import { SET_BUGS, ADD_BUG, DELETE_BUG, UPDATE_BUG } from \"../actionTypes\";\nimport { initBugs } from '../../components/Simulation/bugs';\n\n// TODO - make init count a param\nconst bugs = (state = initBugs(5), action) => {\n  switch (action.type) {\n    case SET_BUGS:\n      return action.payload.bugs; // which will be an array in this case\n    case ADD_BUG:\n      return [\n        ...state,\n        action.payload.bug\n      ]\n    case DELETE_BUG:\n      return state.filter((value, index, arr) => {\n        // false if the UUID of the bug we want to get rid of\n        return value.geneology.id !== action.payload.bug.geneology.id;\n      });\n    case UPDATE_BUG:\n      return state.map(function(item) { return item.geneology.id === action.payload.bug.geneology.id ? action.payload.bug : item; });\n    default:\n      return state;\n  }\n}\n\nexport default bugs;","export const ADD_MEASURE = \"ADD_MEASURE\";\nexport const RESET_MEASURE = \"RESET_MEASURE\";\n\nexport const ADD_SPECIES_COUNT = \"ADD_SPECIES_COUNT\";\nexport const RESET_SPECIES_COUNT = \"RESET_SPECIES_COUNT\";\n\nexport const SET_CONTROL = \"SET_CONTROL\";\n\nexport const SET_TRACKER = \"SET_TRACKER\";\n\nexport const SET_PARAMETERS = \"SET_PARAMETERS\";\nexport const RESET_PARAMETERS = \"RESET_PARAMETERS\";\n\nexport const SET_BUGS = \"SET_BUGS\";\nexport const ADD_BUG = \"ADD_BUG\";\nexport const DELETE_BUG = \"DELETE_BUG\";\nexport const UPDATE_BUG = \"UPDATE_BUG\";\n\nexport const SET_ALGAE = \"SET_ALGAE\";\nexport const ADD_ALGAE = \"ADD_ALGAE\";\nexport const DELETE_ALGAE = \"DELETE_ALGAE\";\n","import uuidv4 from 'uuid/v4';\n\n/**\n* -----------------------------------------------\n* Init algae array\n* -----------------------------------------------\n*/\nexport function initAlgae(count) {\n    var algae = [...Array(count)].map(() => ({\n      id: uuidv4(),\n      // TODO - width/height from props\n      x: Math.round(Math.random() * 1000),\n      y: Math.round(Math.random() * 500),\n      rotation: Math.random() * Math.PI * 2,\n      // width: Math.round(Math.random() * 7 + 5),\n      width: 12,\n      height: 12,\n      energy: Math.floor(Math.random() * 100) + 10, // spread initial values, avoid all breeding together\n      cycles: 0, // track age in cycles\n    }));\n    \n    return algae;\n  }\n  ","import { SET_ALGAE, ADD_ALGAE, DELETE_ALGAE } from \"../actionTypes\";\nimport { initAlgae } from '../../components/Simulation/algae';\n\n// TODO - make init count a params\nconst algae = (state = initAlgae(500), action) => {\n  switch (action.type) {\n    case SET_ALGAE:\n      return action.payload.algae;\n    case ADD_ALGAE:\n      return [\n        ...state,\n        action.payload.algae\n      ]\n    case DELETE_ALGAE:\n      return state.filter((value, index, arr) => {\n        // false if the UUID is item we want to remove\n        return value.id !== action.payload.algae.id;\n      });\n    default:\n      return state;\n  }\n}\n\nexport default algae;","import { ADD_MEASURE, RESET_MEASURE } from \"../actionTypes\";\n\n// TODO - cap size here? pop from front if > than x\n\nconst measures = (state = [], action) => {\n    switch (action.type) {\n      case ADD_MEASURE:\n        const { measure } = action.payload;        \n        return [\n          ...state.slice(Math.max(state.length - 100, 0)), // trim to last 100\n          measure\n        ]   \n      case RESET_MEASURE:\n        return []; // reset to initial state\n      default:\n        return state;\n    }\n  }\n\n  export default measures;","import { ADD_SPECIES_COUNT, RESET_SPECIES_COUNT } from \"../actionTypes\";\n\n// TODO - cap size here? pop from front if > than x\n\nconst species = (state = [], action) => {\n    switch (action.type) {\n      case ADD_SPECIES_COUNT:\n        return [\n          ...state.slice(Math.max(state.length - 100, 0)),\n          action.payload.species\n        ]\n      case RESET_SPECIES_COUNT:\n        return []; // reset to initial state\n      default:\n        return state;\n    }\n  }\n\n  export default species;","import { SET_CONTROL } from \"../actionTypes\";\n\n// set initial state\nconst control = (state = \"PLAY\", action) => {\n    switch (action.type) {\n      case SET_CONTROL:\n        return action.payload.control;\n      default:\n        return state;\n    }\n  }\n\n  export default control;","import { SET_TRACKER } from \"../actionTypes\";\n\n// init value\nconst initTracker = {\n  ticks: 0,\n  bugs: 0,\n  algae: 0,\n  totalBugs: 5,\n  totalSpecies: 5\n}\n\nconst tracker = (state = initTracker, action) => {\n  switch (action.type) {\n    case SET_TRACKER:\n      return Object.assign({}, action.payload.tracker);\n    default:\n      return state;\n  }\n}\n\nexport default tracker;","import { SET_PARAMETERS, RESET_PARAMETERS } from \"../actionTypes\";\n\n// init value\nconst initParameters = {\n  maxBugs: 250,\n  breedingCost: 100,\n  maxAlgae: 1500,\n  algaeBreedThreshold: 100,\n  sampleInterval: 100, // number of ticks before counting species and other metrics taken\n  mutationRate: 10, // 1 in n chance of mutation taking place, lower the number, higher the rate\n}\n\nconst parameters = (state = initParameters, action) => {\n  switch (action.type) {\n    case SET_PARAMETERS:\n      return Object.assign({}, action.payload.parameters);\n    case RESET_PARAMETERS:\n      return Object.assign({}, initParameters);\n    default:\n      return state;\n  }\n}\n\nexport default parameters;","import { combineReducers } from 'redux';\nimport bugs from './bugs';\nimport algae from './algae';\nimport measures from './measures';\nimport species from './species';\nimport control from './control';\nimport tracker from './tracker';\nimport parameters from './parameters';\n\nexport default combineReducers({\n  bugs,\n  algae,\n  measures,\n  species,\n  control,\n  tracker,\n  parameters\n});\n","import { createStore } from \"redux\";\nimport rootReducer from \"./reducers\";\n\nexport default createStore(\n    rootReducer,\n    // this allows use of chrome redux devtool, if available\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);","import { \n  ADD_MEASURE, RESET_MEASURE, \n  ADD_SPECIES_COUNT, RESET_SPECIES_COUNT,\n  SET_CONTROL,\n  SET_TRACKER, \n  SET_PARAMETERS, RESET_PARAMETERS,\n  SET_BUGS, ADD_BUG, DELETE_BUG, UPDATE_BUG,\n  SET_ALGAE, ADD_ALGAE, DELETE_ALGAE\n} from \"./actionTypes\";\n\nexport const addMeasure = measure => ({\n  type: ADD_MEASURE,\n  payload: {\n    measure\n  }\n});\n\nexport const resetMeasure = () => ({\n  type: RESET_MEASURE\n});\n\nexport const addSpeciesCount = species => ({\n  type: ADD_SPECIES_COUNT,\n  payload: {\n    species\n  }\n});\n\nexport const resetSpeciesCount = () => ({\n  type: RESET_SPECIES_COUNT\n});\n\nexport const setControl = control => ({\n  type: SET_CONTROL,\n  payload: {\n    control\n  }\n});\n\nexport const setTracker = tracker => ({\n  type: SET_TRACKER,\n  payload: {\n    tracker\n  }\n});\n\nexport const setParameters = parameters => ({\n  type: SET_PARAMETERS,\n  payload: {\n    parameters\n  }\n});\n\nexport const resetParameters = () => ({\n  type: RESET_PARAMETERS\n});\n\nexport const setBugs = bugs => ({\n  type: SET_BUGS,\n  payload: {\n    bugs\n  }\n});\n\nexport const addBug = bug => ({\n  type: ADD_BUG,\n  payload: {\n    bug\n  }\n});\n\nexport const deleteBug = bug => ({\n  type: DELETE_BUG,\n  payload: {\n    bug\n  }\n});\n\nexport const updateBug = bug => ({\n  type: UPDATE_BUG,\n  payload: {\n    bug\n  }\n});\n\nexport const setAlgae = algae => ({\n  type: SET_ALGAE,\n  payload: {\n    algae\n  }\n});\n\nexport const addAlgae = algae => ({\n  type: ADD_ALGAE,\n  payload: {\n    algae\n  }\n});\n\nexport const deleteAlgae = algae => ({\n  type: DELETE_ALGAE,\n  payload: {\n    algae\n  }\n});\n","export const getMeasures = state => state.measures ? state.measures : [];\nexport const getSpecies = state => state.species ? state.species : [];\nexport const getControl = state => state.control ? state.control : {};\nexport const getTracker = state => state.tracker ? state.tracker : {};\nexport const getParameters = state => state.parameters ? state.parameters : {};\nexport const getBugs = state => state.bugs ? state.bugs : [];\nexport const getAlgae = state => state.algae ? state.algae : [];\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport { setParameters, resetParameters } from '../../redux/actions';\nimport { getParameters } from \"../../redux/selectors\";\nimport Slider from '@material-ui/core/Slider';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: 250,\n    margin: 20\n  },\n  margin: {\n    height: theme.spacing(3),\n  },\n  button: {\n    margin: 5\n  }\n}));\n\n// TODO - could generate these programmatically\nconst largeMarks = [\n  // {\n  //   value: 0,\n  //   label: '0',\n  // },\n  {\n    value: 100,\n    label: '100',\n  },\n  {\n    value: 200,\n    label: '200',\n  },\n  {\n    value: 300,\n    label: '300',\n  },\n  {\n    value: 400,\n    label: '400',\n  },\n  {\n    value: 500,\n    label: '500',\n  },\n  {\n    value: 600,\n    label: '600',\n  },\n  {\n    value: 700,\n    label: '700',\n  },\n  {\n    value: 800,\n    label: '800',\n  },\n  {\n    value: 900,\n    label: '900',\n  },\n  {\n    value: 1000,\n    label: '1000',\n  },\n  {\n    value: 1100,\n    label: '1100',\n  },\n  {\n    value: 1200,\n    label: '1200',\n  },\n  {\n    value: 1300,\n    label: '1300',\n  },\n  {\n    value: 1400,\n    label: '1400',\n  },\n  {\n    value: 1500,\n    label: '1500',\n  },\n];\n\nconst mediumMarks = [\n  {\n    value: 100,\n    label: '100',\n  },\n  {\n    value: 150,\n    label: '150',\n  },\n  {\n    value: 200,\n    label: '200',\n  },\n  {\n    value: 250,\n    label: '250',\n  },\n  {\n    value: 300,\n    label: '300',\n  },\n  {\n    value: 350,\n    label: '350',\n  },\n  {\n    value: 400,\n    label: '400',\n  },\n  {\n    value: 450,\n    label: '450',\n  },\n  {\n    value: 500,\n    label: '500',\n  },\n];\n\nconst smallMarks = [\n  {\n    value: 10,\n    label: '10',\n  },\n  {\n    value: 20,\n    label: '20',\n  },\n  {\n    value: 30,\n    label: '30',\n  },\n  {\n    value: 40,\n    label: '40',\n  },\n  {\n    value: 50,\n    label: '50',\n  },\n  {\n    value: 60,\n    label: '60',\n  },\n  {\n    value: 70,\n    label: '70',\n  },\n  {\n    value: 80,\n    label: '80',\n  },\n  {\n    value: 90,\n    label: '90',\n  },\n  {\n    value: 100,\n    label: '100',\n  },\n];\n\nfunction Parameters(props) {\n\n  const classes = useStyles();\n\n  // clone for local adjustment, copy back to redux parameters if saved\n  const [params, setParams] = useState(props.parameters);\n\n  // TODO - consolidate functions, needless repetition here\n  const handleMaxBugsChange = (event, newValue) => {\n    var newParams = Object.assign({}, params);\n    newParams.maxBugs = newValue;\n    setParams(newParams);\n  };\n\n  const handleBreedingCostChange = (event, newValue) => {\n    var newParams = Object.assign({}, params);\n    newParams.breedingCost = newValue;\n    setParams(newParams);\n  };\n\n  const handleMaxAlgaeChange = (event, newValue) => {\n    var newParams = Object.assign({}, params);\n    newParams.maxAlgae = newValue;\n    setParams(newParams);\n  };\n\n  const handleAlgaeBreedThresholdChange = (event, newValue) => {\n    var newParams = Object.assign({}, params);\n    newParams.algaeBreedThreshold = newValue;\n    setParams(newParams);\n  };\n\n  const handleMutationRateChange = (event, newValue) => {\n    var newParams = Object.assign({}, params);\n    newParams.mutationRate = newValue;\n    setParams(newParams);\n  };\n\n  // reset parameters to defaults\n  const reset = () => {\n    props.resetParameters(); // reset redux parameters\n    // TODO - await? reset to last values, 2nd click shows actual values\n    setParams(props.parameters); // update local component state\n  };\n\n  return (\n    <div className={classes.root}>\n\n      <Typography id=\"max-bugs-slider\" gutterBottom>\n        Maximum Bug Population\n      </Typography>\n      <Slider\n        value={params.maxBugs}\n        onChange={handleMaxBugsChange}\n        aria-labelledby=\"max-bugs-slider\"\n        step={10}\n        marks={mediumMarks}\n        min={50}\n        max={300}\n      />\n\n      <div className={classes.margin} />\n      <Typography id=\"bug-breed-cost-slider\" gutterBottom>\n        Bug Breeding Cost (Energy)\n      </Typography>\n      <Slider\n        value={params.breedingCost}\n        onChange={handleBreedingCostChange}\n        aria-labelledby=\"bug-breed-cost-slider\"\n        step={10}\n        marks={mediumMarks}\n        min={0}\n        max={500}\n      />\n\n      <div className={classes.margin} />\n      <Typography id=\"max-algae-slider\" gutterBottom>\n        Maximum Algae Population\n      </Typography>\n      <Slider\n        value={params.maxAlgae}\n        onChange={handleMaxAlgaeChange}\n        aria-labelledby=\"max-algae-slider\"\n        step={50}\n        marks={largeMarks}\n        min={400}\n        max={1500}\n      />\n\n      <div className={classes.margin} />\n      <Typography id=\"algae-breed-threshold-slider\" gutterBottom>\n        Algae Breeding Threshold (Energy)\n      </Typography>\n      <Slider\n        value={params.algaeBreedThreshold}\n        onChange={handleAlgaeBreedThresholdChange}\n        aria-labelledby=\"algae-breed-threshold-slider\"\n        step={10}\n        marks={mediumMarks}\n        min={50}\n        max={300}\n      />\n\n      <div className={classes.margin} />\n      <Typography id=\"algae-mutation-rate-slider\" gutterBottom>\n        Mutation Chance (1 in n)\n      </Typography>\n      <Slider\n        value={params.mutationRate}\n        onChange={handleMutationRateChange}\n        aria-labelledby=\"algae-mutation-rate-slider\"\n        step={1}\n        marks={smallMarks}\n        min={10}\n        max={100}\n      />\n\n      <div className={classes.margin} />\n      <Button className={classes.button} variant=\"contained\" onClick={() => { props.setParameters(params); props.toggle(false); }}>Save</Button>\n      <Button className={classes.button} variant=\"contained\" onClick={() => { reset(); }}>Reset</Button>\n      <Button className={classes.button} variant=\"contained\" onClick={() => { props.toggle(false); }}>Close</Button>\n    </div>\n  );\n\n};\n\nconst mapStateToProps = state => {\n  const parameters = getParameters(state);\n  return { parameters };\n};\n\nexport default connect(mapStateToProps, {setParameters, resetParameters})(Parameters);\n","import ParametersComponent from './Parameters';\nexport const Parameters = ParametersComponent;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport TitleImage from '../../assets/bugs2020.png';\n\nconst useStyles = makeStyles({\n  card: {\n    maxWidth: 1000,\n    maxHeight: 500,\n    margin: 5,\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  content: {\n    width: \"80%\"\n  },\n  media: {\n    margin: 5,\n    height: 100,\n    width: 100\n  },\n});\n\nexport default function Title() {\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.card}>\n      <CardMedia\n        className={classes.media}\n        image={TitleImage}\n        title=\"Bugs 2020\"\n      />\n      <CardContent className={classes.content}>\n        <Typography variant=\"body1\" color=\"textSecondary\" component=\"p\">\n          Exploring machine learning and evolutionary adaptation by observing synthetic entities in a dynamic environment.\n        </Typography>\n      </CardContent>\n    </Card>\n  );\n\n}\n","import TitleComponent from './Title';\nexport const Title = TitleComponent;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles({\n  card: {\n    maxWidth: 1000,\n    maxHeight: 500,\n    margin: 5,\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  content: {\n    flex: '1 0 auto',\n    margin: 10,\n    width: \"90%\"\n  },\n  media: {\n    margin: 5,\n    height: 100,\n    width: 100\n  },\n});\n\nexport default function Title() {\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.card}>\n      <CardContent className={classes.content}>\n        <Typography variant=\"body1\" color=\"textSecondary\" component=\"p\">\n          The environment is a chaotic system, and the 'bugs' are selected by their ability to survive in this system. Those that can consume\n          sufficient energy in the form of the green 'algae' or other 'bugs' will reproduce and persist. Those that do not die off.\n          Population oscillations can be observed as selection pushes towards equilibrium.\n          There are parameters that can be adjusted to experiment with the system. These can be adjusted as it is running.\n        </Typography>\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" align=\"right\">\n            Kazan Glenn\n        </Typography>\n      </CardContent>\n    </Card>\n  );\n\n}\n","import Component from './About';\nexport const About = Component;","import { Viewport } from \"pixi-viewport\";\nimport { PixiComponent } from \"@inlet/react-pixi\";\n\n// see - https://codesandbox.io/s/elated-liskov-pdcd6\n\nexport default PixiComponent(\"Viewport\", {\n  create: props => {\n    const viewport = new Viewport({\n      // screenWidth: 1000,\n      // screenHeight: 500,\n      screenWidth: window.innerWidth,\n      screenHeight: window.innerHeight,\n      worldWidth: 1000,\n      worldHeight: 500,\n      // ticker: props.app.ticker,\n      // interaction: props.app.renderer.plugins.interaction // the interaction module is important for wheel to work properly when renderer.view is placed or scaled\n    });\n\n    console.log(props)\n    // viewport.on(\"drag-start\", () => console.log(\"drag-start\"));\n    // viewport.on(\"drag-end\", () => console.log(\"drag-end\"));\n\n    viewport\n      .drag()\n      .pinch()\n      .wheel()\n      .decelerate();\n\n    //viewport.scaled = 30;\n    return viewport;\n  },\n  applyProps: (instance, oldProps, newProps) => {\n    console.log(\"applyProps\");\n  },\n  didMount: () => {\n    console.log(\"didMount\");\n  },\n  willUnmount: () => {\n    console.log(\"willUnmount\");\n  }\n});","/**\n* -----------------------------------------------\n* Contact function - have two sprites connected?  \n* see https://github.com/kittykatattack/learningPixi#the-hittestrectangle-function\n* -----------------------------------------------\n*/\nexport function contact(r1, r2) {\n\n    //Define the variables we'll need to calculate\n    let hit, combinedHalfWidths, combinedHalfHeights, vx, vy;\n  \n    //hit will determine whether there's a collision\n    hit = false;\n  \n    // console.log(\"h\", r1.height, r2.height);\n  \n    //Find the center points of each sprite\n    r1.centerX = r1.x + r1.width / 2;\n    r1.centerY = r1.y + r1.height / 2;\n    r2.centerX = r2.x + r2.width / 2;\n    r2.centerY = r2.y + r2.height / 2;\n  \n    //Find the half-widths and half-heights of each sprite\n    r1.halfWidth = r1.width / 2;\n    r1.halfHeight = r1.height / 2;\n    r2.halfWidth = r2.width / 2;\n    r2.halfHeight = r2.height / 2;\n  \n    //Calculate the distance vector between the sprites\n    vx = r1.centerX - r2.centerX;\n    vy = r1.centerY - r2.centerY;\n  \n    //Figure out the combined half-widths and half-heights\n    combinedHalfWidths = r1.halfWidth + r2.halfWidth;\n    combinedHalfHeights = r1.halfHeight + r2.halfHeight;\n  \n    //Check for a collision on the x axis\n    if (Math.abs(vx) < combinedHalfWidths) {\n  \n      //A collision might be occurring. Check for a collision on the y axis\n      if (Math.abs(vy) < combinedHalfHeights) {\n  \n        //There's definitely a collision happening\n        hit = true;\n      } else {\n  \n        //There's no collision on the y axis\n        hit = false;\n      }\n    } else {\n  \n      //There's no collision on the x axis\n      hit = false;\n    }\n  \n    //`hit` will be either `true` or `false`\n    return hit;\n  };\n  \n  \n  // not used yet\n  export function wrap(original, xbounds, ybounds, width, height) {\n    var item = Object.assign({}, original);\n\n    if (item.x < xbounds) {\n      item.x += width;\n    }\n    else if (item.x > xbounds + width) {\n      item.x -= width;\n    }\n    if (item.y < ybounds) {\n      item.y += height;\n    }\n    else if (item.y > ybounds + height) {\n      item.y -= height;\n    }\n    return item;\n  }","import React from 'react';\nimport { connect } from \"react-redux\";\nimport { addMeasure, addSpeciesCount, resetMeasure, resetSpeciesCount, setControl, setTracker } from '../../redux/actions';\nimport { setAlgae, addAlgae, deleteAlgae, setBugs, addBug, deleteBug } from '../../redux/actions';\nimport { getControl, getParameters, getAlgae, getBugs } from '../../redux/selectors';\nimport { Text, withPixiApp, Sprite, useApp } from '@inlet/react-pixi';\nimport * as PIXI from \"pixi.js\";\nimport uuidv4 from 'uuid/v4';\n\n// images\nimport BugImage from '../../assets/flatworm.png';\nimport AlgaeImage from '../../assets/algae_small.png';\n\n// simulation components\nimport { contact, wrap } from './physics';\nimport { initBugs } from './bugs';\nimport { initAlgae } from './algae';\n\n/**\n* -----------------------------------------------\n* tracker, for stats, local copy to make redux management easier\n* update redux copy for display\n* -----------------------------------------------\n*/\nvar tracker = {\n  ticks: 0,\n  bugs: 0,\n  algae: 0,\n  speciesCounts: {}, // support constant tracking of population by species\n  totalBugs: 10, // init value\n  totalSpecies: 10 // init value\n}\n\n/**\n* -----------------------------------------------\n* Bug Component\n* -----------------------------------------------\n*/\nconst BugSprite = props => (\n  <Sprite {...props}\n    image={BugImage}\n    anchor={0.5}\n    overwriteProps={true}\n    ignoreEvents={true}\n    interactive={true}\n    pointerdown={() => { // respond to click\n      // TODO - create a popup or something on screen - this is to browser console\n      console.log(props);\n      // <Bug props/>\n      // render()\n    }}\n  />\n);\n\n/**\n* -----------------------------------------------\n* Algae Component\n* -----------------------------------------------\n*/\nconst AlgaeSprite = props => (\n  <Sprite {...props}\n    image={AlgaeImage}\n    anchor={0.5}\n    overwriteProps={true}\n    ignoreEvents={true}\n  />\n);\n\n/**\n* -----------------------------------------------\n* Message to display when all dead\n* -----------------------------------------------\n*/\nconst notice = <Text\n  text=\"All Bugs Dead\"\n  anchor={0}\n  x={380}\n  y={250}\n  style={new PIXI.TextStyle({\n    fontSize: 30,\n    fontFamily: 'Courier',\n    fontWeight: 'bold',\n    fill: '#ff0000'\n  })}\n/>\n\n\n/**\n* -----------------------------------------------\n* Core simulation engine\n* -----------------------------------------------\n*/\nconst Engine = withPixiApp(class extends React.Component {\n  bounds = null\n\n  componentDidMount() {\n    const padding = 10;\n    this.bounds = new PIXI.Rectangle(\n      -padding,\n      -padding,\n      Number(this.props.app.screen.width) + padding,\n      Number(this.props.app.screen.height) + padding\n    );\n\n    // this adds ticker to app causing execution of graphics loop\n    this.props.app.ticker.add(this.tick);\n\n    console.log(\"engine props => \", this.props)\n  }\n\n\n  componentWillUnmount() {\n    this.props.app.ticker.remove(this.tick);\n  }\n\n\n  // direct manipulation version\n  bugLogic = () => {\n    // first, check once over all items, remove any with 0 energy\n    this.props.bugs.forEach((b, i) => {\n      if (b.energy === 0) {\n        this.props.bugs.splice(i, 1); // other is at position i\n        // this.props.deleteBug(b); // slow but correct\n        // tracker.speciesCounts[b.tint]--;\n        tracker.speciesCounts[b.tint] ? tracker.speciesCounts[b.tint]-- : tracker.speciesCounts[b.tint] = 0; // may not exist if first org\n      }\n    });\n\n\n    // BUG PROCESSING\n    this.props.bugs.forEach((item) => {\n\n      // BREED\n      if (this.props.bugs.length < this.props.parameters.maxBugs \n          && item.width >= item.breedSize \n          && item.energy >= item.breedThreshold) {\n        tracker.totalBugs++;\n        var offspring = Object.assign({}, this.evolve(item)); // empty object to receive contents of item\n        // TODO - parameterise ow much energy offspring gets\n        offspring.energy = Math.round(item.energy * 0.25); // offspring gets 25% of energy - do this first\n        item.energy = Math.round(item.energy * 0.75) - this.props.parameters.breedingCost; // lose 25%, plus breeding cost, for breeding\n        offspring.direction = Math.random() * Math.PI * 2; // new heading\n        // geneology tracking\n        var uuid = uuidv4();\n        item.geneology.children.push(uuid); // parent tracks child\n        offspring.geneology = {\n          id: uuid,\n          parent: item.geneology.id,\n          children: [] // create blank array for child\n        }\n        offspring.cycles = 0; // age = 0\n        // start small, grow in size\n        offspring.width = 5;\n        offspring.height = 10;\n        this.props.bugs.push(offspring); // add adjusted copy\n        // this.props.addBug(offspring); // very slow but correct\n        tracker.speciesCounts[offspring.tint] ? tracker.speciesCounts[offspring.tint]++ : tracker.speciesCounts[offspring.tint] = 1; // track new births\n      }\n\n      // EAT OTHER BUGS - smaller bugs always eaten, supports growth\n      this.props.bugs.forEach((other) => {\n        // don't test against self, based on position of other value\n        // if (item.tint !== other.tint && other.geneology.parent !== item.geneology.id && item.x !== other.x && item.y !== other.y) {\n        if (other.geneology.id !== item.geneology.id \n          && item.tint !== other.tint \n          && (item.geneology.id !== other.geneology.parent && item.geneology.parent !== other.geneology.id)) {\n          // if not offspring and touching and smaller, eat the smaller one, or be eaten\n          if (contact(item, other)) {\n            // eat\n            if(item.width > other.width) {\n              item.energy += other.energy; // take what energy there is\n              other.energy = 0;\n              // other.tint = 0xFFFFFF; // flash white before removal\n            }\n            // be eaten\n            else if(item.width < other.width) {\n              other.energy += item.energy; // take what energy there is\n              item.energy = 0;\n              // item.tint = 0xFFFFFF; // flash white before removal\n            }\n            // avoid\n            else {\n              item.direction += (Math.random() - 0.5) * 0.75; // avoidance\n              other.direction += (Math.random() - 0.5) * 0.75; // avoidance\n            }\n          }\n        }\n      })\n\n      // EAT ALGAE\n      this.props.algae.forEach((algae, i) => {\n        if (contact(item, algae)) {\n          item.direction += (Math.random() - 0.5) * 0.75; // consume clump, opportunity for intelligence\n          // consume the entire contacted algae - no updates\n          item.energy += algae.energy; // take what energy there is\n          this.props.algae.splice(i, 1); // direct manipulation\n          // this.props.deleteAlgae(algae); // slow but correct\n          // console.log(\"consumed\",algae.id);\n        }\n      });\n\n      // MOVE \n      item.x = item.x + Math.sin(item.direction) * (item.speed * item._s);\n      item.y = item.y + Math.cos(item.direction) * (item.speed * item._s);\n      item.rotation = -item.direction + Math.PI;\n      item.direction = item.direction + item.turningSpeed * (Math.random() - 0.5) * 0.5;\n      // wrap testing\n      if (item.x < this.bounds.x) {\n        item.x += this.bounds.width;\n      }\n      else if (item.x > this.bounds.x + this.bounds.width) {\n        item.x -= this.bounds.width;\n      }\n      if (item.y < this.bounds.y) {\n        item.y += this.bounds.height;\n      }\n      else if (item.y > this.bounds.y + this.bounds.height) {\n        item.y -= this.bounds.height;\n      }      \n\n      // ENERGY LOSS\n      item.energy = Math.max(0, item.energy - (2 + Math.ceil(item.speed))); // energy loss with movement and speed, will need to eat\n    })\n  }\n\n\n\n  // check if should evolve, make small adjustment if so\n  evolve = (item) => {\n    var offspring = Object.assign({}, item);\n    if (Math.floor(Math.random() * this.props.parameters.mutationRate) === 0) {  // 1 in n chance of a mutuation\n      tracker.totalSpecies++;\n      // TODO - check upper/lower colour bounds\n      offspring.tint = item.tint + Math.round(Math.random() * 0xFFFF) - 0x8888; // new colour to indicate change\n\n      // make one small change\n      var change = Math.round(Math.random() * 3);\n      switch (change) {\n        case 0:\n          offspring.turningSpeed += (Math.random() * 0.2 - 0.1);\n          break;\n        case 1:\n          offspring.speed += Math.floor(Math.random() * 4) - 2; // allow slow down too\n          break;\n        case 2:\n          offspring.breedThreshold += Math.floor(Math.random() * 20) - 10; // variable breed speed, up or down\n          break;\n        case 3:\n          offspring.breedSize += Math.min(22, Math.max(5, Math.floor(Math.random() * 2) - 1));\n          break;\n        default:\n          console.log(\"no change ...\", change);\n      }\n    }\n    return offspring;\n  }\n\n  \n  // direct manipulation - no array replacement\n  algaeLogic = () => {\n    // ALGAE PROCESSING\n    this.props.algae.forEach((item) => {\n      // increment age\n      item.cycles++\n\n      // GROW - based on algae age\n      if(item.width < 25 && item.cycles % 75 === 0) {\n        item.width++;\n        item.height++;\n      }\n      // BREED\n      // TODO - limit to edge algae, or perhaps sample pop if large, to MASSIVELY speed processing\n      if (item.energy >= this.props.parameters.algaeBreedThreshold && this.props.algae.length < this.props.parameters.maxAlgae) {\n        var offspring = Object.assign({}, item); // empty object to receive contents of item\n\n        // start small, allow for growth\n        offspring.width = 5;\n        offspring.height = 5;\n\n        var angle = Math.random() * Math.PI * 2;\n        var radius = Math.random() * 25 + 5;\n        offspring.x += Math.round(Math.cos(angle)*radius);\n        offspring.y += Math.round(Math.sin(angle)*radius);\n        offspring.rotation = Math.random() * Math.PI * 2;\n\n        // edge wrap detection - move to function\n        if (offspring.x < this.bounds.x) {\n          offspring.x += this.bounds.width;\n        }\n        else if (offspring.x > this.bounds.x + this.bounds.width) {\n          offspring.x -= this.bounds.width;\n        }\n        if (offspring.y < this.bounds.y) {\n          offspring.y += this.bounds.height;\n        }\n        else if (offspring.y > this.bounds.y + this.bounds.height) {\n          offspring.y -= this.bounds.height;\n        }\n\n        // check overlap - if overlap, do not breed (do no add offpsring) until space\n        let isContact = false;\n        for (var i = 0; i < this.props.algae.length; i++) { // don't use foreach so can break on first hit\n          if (contact(offspring, this.props.algae[i])) {\n            isContact = true;\n            break;\n          }\n        }\n\n        // no overlap so create\n        if (!isContact) {\n          // only take energy away when space to breed\n          item.energy = Math.round(item.energy * 0.9); // keep 90%\n          offspring.energy = Math.round(item.energy * 0.1); // 10%\n          this.props.algae.push(offspring); // add adjusted copy\n          // this.props.addAlgae(offspring); // slow but correct\n        }\n      }\n\n      // PHOTOSYNTHESISE\n      // put a cap on energy stored based on breeding threshold - must have that much\n      // item.energy = Math.min(this.props.parameters.algaeBreedThreshold, item.energy + 1);\n      item.energy = Math.min(item.width * 8, item.energy + 1); // limit energy based on size - need to grow\n    })\n  }\n\n\n\n  tick = () => {\n    this.bugLogic();\n    this.algaeLogic();\n\n    // doing this here to update state to cause re-rendering\n    // see if way to force re-render witht replacing bug array\n    // re-rendering causes algae to work too\n    this.props.setBugs(this.props.bugs.map((bug, i) => {\n      bug.cycles++;\n      // GROW until width 15\n      // TODO - parameterise init and max sizes\n      if(bug.width < 22 && bug.cycles % 100 === 0) {\n        bug.width++;\n        bug.height+=2;\n      }\n      return bug;\n    }));\n\n    // stop processing, all dead\n    if (this.props.bugs.length === 0) {\n      this.props.app.ticker.stop();\n    };    \n\n    tracker.ticks++;\n\n    // every nth tick, record bug volumes by species - not too oftem, will slow processing\n    if (tracker.ticks % this.props.parameters.sampleInterval === 0) {\n\n      // add population measures to redux store\n      let sample = {\n        cycle: tracker.ticks,\n        bugs: this.props.bugs.length,\n        algae: this.props.algae.length\n      };\n      this.props.addMeasure(sample);\n\n      // update redux tracker with local values\n      tracker.bugs = this.props.bugs.length;\n      tracker.algae = this.props.algae.length;\n      this.props.setTracker(tracker);\n\n      // periodically trim tracker species counts of 0 values\n      Object.entries(tracker.speciesCounts).forEach(([key, value]) => {\n        // should not need undefined test, not sure where undefined coming from\n        if (tracker.speciesCounts[key] === 0 || key === 'undefined') {\n          delete tracker.speciesCounts[key];\n        }\n      });\n\n      // normalise species counts into standard structure to make plotting easier\n      const normal = Object.keys(tracker.speciesCounts).map((name) => {\n        return { species: name, count: tracker.speciesCounts[name] }\n      });\n\n      // wrap up species counts with a cycle indicator\n      const species = { cycle: tracker.ticks, counts: normal }\n\n      // add species counts to redux store\n      this.props.addSpeciesCount(species);\n    }\n\n  }\n\n\n  render = () => {\n    var algae = this.props.algae.map(props => <AlgaeSprite {...props} />);\n    var bugs = this.props.bugs.map(props => <BugSprite {...props} />);\n\n    var message =\n      \"Cycle: \".concat(tracker.ticks)\n        .concat(\"\\n Bugs: \").concat(this.props.bugs.length)\n        .concat(\"\\nAlgae: \").concat(this.props.algae.length);\n\n    // show the 'ticks' on screen - cycle\n    var text = <Text\n      text={message}\n      anchor={0}\n      x={5}\n      y={5}\n      style={new PIXI.TextStyle({\n        fontSize: 14,\n        fontFamily: 'Courier',\n        fontWeight: 'bold',\n        fill: '#000080'\n      })}\n    />\n\n    // manage control buttons\n    // TODO - move into function\n    switch (this.props.control) {\n      case 'PLAY':\n        // prevent repeated start calls by testing started\n        if (!this.props.app.ticker.started) {\n          this.props.app.ticker.start();\n        }\n        break;\n      case 'PAUSE':\n        this.props.app.ticker.stop();\n        break;\n      case 'RESET':\n        // stop processing\n        this.props.app.ticker.stop();\n        // reset the algae and bugs\n        this.props.setBugs(initBugs(5));\n        this.props.setAlgae(initAlgae(500));\n        // reset measures redux array\n        this.props.resetMeasure();\n        // reset species redux array\n        this.props.resetSpeciesCount();\n        // reset tracker counts\n        // TODO - call function, avoid this nasty hard coding of values\n        tracker.ticks = 0;\n        tracker.totalBugs = 5;\n        tracker.totalSpecies = 5;\n        // restart processing\n        this.props.app.ticker.start();\n        // set control value\n        this.props.setControl('PLAY'); // set running again\n        break;\n      default:\n        console.log(\"command not recognised ...\");\n    }\n\n    if (this.props.bugs.length > 0) {\n        return [...algae, ...bugs, text];\n    }\n    return [...algae, ...bugs, text, notice];\n  }\n});\n\n\nconst mapStateToProps = state => {\n  const bugs = getBugs(state);\n  const algae = getAlgae(state);\n  const control = getControl(state);\n  const parameters = getParameters(state);\n  return { bugs, algae, control, parameters };\n};\n\nconst mapDispatchToProps = {\n  setBugs, addBug, deleteBug,\n  setAlgae, addAlgae, deleteAlgae,\n  addMeasure, resetMeasure,\n  addSpeciesCount, resetSpeciesCount,\n  setControl,\n  setTracker\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Engine);\n","import React from 'react';\nimport { Provider } from \"react-redux\";\nimport store from \"../../redux/store\";\nimport { Stage, Container } from '@inlet/react-pixi';\n\nimport Card from '@material-ui/core/Card';\nimport { makeStyles } from '@material-ui/core/styles';\n\n\n// images\nimport BackgroundImage from '../../assets/background_water.png';\n\n// simulation components\nimport ReactViewport from '../ReactViewport';\nimport Engine from './Engine';\n\n\n/**\n* -----------------------------------------------\n* Component styles\n* -----------------------------------------------\n*/\nconst useStyles = makeStyles({\n  card: props => ({\n    maxWidth: props.width,\n    maxHeight: props.height,\n    backgroundImage: 'url(' + BackgroundImage + ')',\n    margin: 5,\n    display: 'flex',\n    flexDirection: 'row'\n  })\n});\n\n/**\n* -----------------------------------------------\n* Config\n* -----------------------------------------------\n*/\nconst config = {\n  properties: {\n    position: true,\n    rotation: true,\n    scale: false,\n    uvs: false,\n    alpha: false,\n  },\n\n  listeners: [],\n  onChange: function (prop, val) { this.listeners.forEach(l => l(prop, val)) },\n}\n\n/**\n* -----------------------------------------------\n* Settings Component\n* -----------------------------------------------\n*/\nclass Settings extends React.PureComponent {\n\n  // state = { ...config.properties, bugs: config.bugs, algae: config.algae, changed: false }\n  state = { ...config.properties, changed: false }\n\n  componentDidMount() {\n    config.listeners.push(this.onChange)\n  }\n\n  onChange = (prop, val) => {\n    this.setState({ [prop]: val, changed: true })\n\n    // creates new ParticleContainer as properties cannot be changed over time\n    clearTimeout(this.changeTimeout)\n    this.changeTimeout = setTimeout(() => this.setState({ changed: false }), 0)\n  }\n\n  render() {\n    return this.state.changed ? null : this.props.children(this.state)\n  }\n};\n\n\n/**\n* -----------------------------------------------\n* Top level simulation component\n* -----------------------------------------------\n*/\nfunction Simulation(props) {\n\n  const classes = useStyles(props);\n\n  console.log(\"sim props => \", props)\n\n  // note passing functions to Batch component - there must be a better way, getting too many\n  return (\n    <Card className={classes.card}>\n      <Stage width={props.width} height={props.height} options={{ transparent: true }}>\n        <Provider store={store}>\n        {/* <ReactViewport app={app}> */}\n          <Settings>\n            {config => (\n              <Container properties={config}>\n                <Engine config={props}/>\n              </Container>\n            )}\n          </Settings>\n          </Provider>\n        {/* </ReactViewport> */}\n      </Stage>\n    </Card>\n  );\n}\n\nexport default Simulation;","import SimComponent from './Simulation';\nexport const Simulation = SimComponent;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getMeasures } from \"../../redux/selectors\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport { Line } from 'react-chartjs-2';\n\n\nconst useStyles = makeStyles({\n  card: props => ({\n    maxWidth: 1000,\n    maxHeight: props.height,\n    margin: 5\n  })\n});\n\nconst options = {\n  responsive: true,\n  // animation: false,\n  scales: {\n    xAxes: [{\n      scaleLabel: {\n        display: true,\n        labelString: 'Cycle',\n        fontColor: 'rgb(63, 63, 191, 0.9)'\n      },      \n      type: 'linear',\n      position: 'bottom',\n      ticks: {\n        stepSize: 100\n      }\n    }],\n    yAxes: [\n      {\n        id: 'bugs',\n        scaleLabel: {\n          display: true,\n          labelString: '# of Bugs',\n          fontColor: 'rgb(63, 63, 191, 0.9)'\n        },      \n        position: 'left',\n      },\n      {\n        id: 'algae',\n        scaleLabel: {\n          display: true,\n          labelString: '# of Algae',\n          fontColor: 'rgb(63, 63, 191, 0.9)'\n        },      \n        position: 'right',\n      }\n    ]\n  },\n  legend: {\n    display: true,\n    labels: {\n      fontColor: 'rgb(63, 63, 191, 0.9)'\n    }\n  },\n  layout: {\n    padding: {\n      left: 10,\n      right: 10,\n      top: 5,\n      bottom: 5\n    }\n  }\n}\n\nfunction SummaryChart(props) {\n\n  const classes = useStyles(props);\n\n  let measures = props.measures; // alias\n\n  var chartdata = {\n    datasets: [\n      {\n        label: \"Bugs\",\n        data: measures && measures.length ? measures.map((m) => { return { x: m.cycle, y: m.bugs } }) : [],\n        yAxisID: \"bugs\",\n        borderColor: 'rgba(191, 63, 63, 0.5)',\n        backgroundColor: 'rgba(191, 63, 63, 0.3)',\n        borderWidth: 1,\n        pointRadius: 1,\n        pointHoverRadius: 1\n      },\n      {\n        label: \"Algae\",\n        data: measures && measures.length ? measures.map((m) => { return { x: m.cycle, y: m.algae } }) : [],\n        yAxisID: \"algae\",\n        borderColor: 'rgba(0, 138, 0, 0.7)',\n        backgroundColor: 'rgba(0, 138, 0, 0.3)',\n        borderWidth: 1,\n        pointRadius: 1,\n        pointHoverRadius: 1\n      }\n    ]\n  }\n\n  return (\n    <Card className={classes.card}>\n      <Line\n        data={chartdata}\n        width={1000}\n        height={props.height}\n        options={options}\n      />\n    </Card>\n  );\n};\n\nconst mapStateToProps = state => {\n  const measures = getMeasures(state);\n  return { measures };\n};\n\nexport default connect(mapStateToProps)(SummaryChart);\n","import ChartComponent from './SummaryChart';\nexport const SummaryChart = ChartComponent;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getSpecies } from \"../../redux/selectors\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport { Line } from 'react-chartjs-2';\nimport * as PIXI from \"pixi.js\";\n\nconst useStyles = makeStyles({\n  card: {\n    maxWidth: 1000,\n    maxHeight: 700,\n    margin: 5\n  }\n});\n\nconst options = {\n  responsive: true,\n  // animation: false,\n  scales: {\n    xAxes: [{\n      scaleLabel: {\n        display: true,\n        labelString: 'Cycle',\n        fontColor: 'rgb(63, 63, 191, 0.9)'\n      },\n      type: 'linear',\n      position: 'bottom',\n      ticks: {\n        stepSize: 100\n      }\n    }],\n    yAxes: [{\n      scaleLabel: {\n        display: true,\n        labelString: '# of Bugs',\n        fontColor: 'rgb(63, 63, 191, 0.9)'\n      },\n      position: 'left'\n    }]\n  },\n  legend: {\n    display: true,\n    labels: {\n      fontColor: 'rgb(63, 63, 191, 0.9)'\n    }\n  },\n  layout: {\n    padding: {\n      left: 10,\n      right: 10,\n      top: 5,\n      bottom: 5\n    }\n  }\n}\n\nfunction SpeciesChart({ species }) {\n\n  const classes = useStyles();\n\n  // species data needs to be pivoted from by cycle to by species to chart\n  // TODO - filter to top n species for efficiency\n  var chartData = [];\n  species.forEach(element => {\n    element.counts.forEach(entry => {\n      chartData[entry.species] ? chartData[entry.species].push({ x: element.cycle, y: entry.count }) : chartData[entry.species] = [{ x: element.cycle, y: entry.count }];\n    });\n  });\n\n  var datasets = Object.keys(chartData).map((name) => {\n    let colour = PIXI.utils.premultiplyTintToRgba(name, 0.5);\n    let hexcolour = [colour[0] * 0x255, colour[1] * 0x255, colour[2] * 0x255];\n    let borderColourString = 'rgba(' + hexcolour[0] + ',' + hexcolour[1] + ',' + hexcolour[2] + ', 0.9)';\n    let colourString = 'rgba(' + hexcolour[0] + ',' + hexcolour[1] + ',' + hexcolour[2] + ', 0.5)';\n    return {\n      label: name,\n      data: chartData[name],\n      borderColor: borderColourString,\n      backgroundColor: colourString,\n      borderWidth: 1,\n      pointRadius: 1,\n      pointHoverRadius: 1,\n      spanGaps: false\n    }\n  });\n\n  var chartdata = {\n    datasets: datasets\n  }\n\n  return (\n    <Card className={classes.card}>\n      <Line\n        data={chartdata}\n        width={1000}\n        height={700}\n        options={options}\n      />\n    </Card>\n  );\n};\n\nconst mapStateToProps = state => {\n  const species = getSpecies(state);\n  return { species };\n};\n\nexport default connect(mapStateToProps)(SpeciesChart);\n","import ChartComponent from './SpeciesChart';\nexport const SpeciesChart = ChartComponent;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n// import Card from '@material-ui/core/Card';\nimport Modal from '@material-ui/core/Modal';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: 300,\n    flexGrow: 1,\n    minWidth: 300,\n    transform: 'translateZ(0)',\n    // The position fixed scoping doesn't work in IE 11.\n    // Disable this demo to preserve the others.\n    '@media all and (-ms-high-contrast: none)': {\n      display: 'none',\n    },\n  },\n  modal: {\n    display: 'flex',\n    padding: theme.spacing(1),\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport default function Bug(bug) {\n\n  const classes = useStyles();\n  const rootRef = React.useRef(null);\n\n  return (\n    <Modal\n      disablePortal\n      disableEnforceFocus\n      disableAutoFocus\n      open\n      aria-labelledby=\"Bug\"\n      aria-describedby=\"Bug details\"\n      className={classes.modal}\n      container={() => rootRef.current}\n    >\n      <div className={classes.paper}>\n        <p id=\"server-modal-description\">{bug}</p>\n      </div>\n    </Modal>\n  );\n\n};\n","import Component from './Bug';\nexport const Bug = Component;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getBugs } from \"../../redux/selectors\";\n\n// material-ui components\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\n// project components\nimport Bug from '../Bug';\n\n\nconst useStyles = makeStyles({\n  card: {\n    maxWidth: 1000,\n    maxHeight: 700,\n    margin: 5,\n    display: 'flex',\n    flexDirection: 'row'\n  }\n});\n\nfunction BugList({ bugs }) {\n\n  const classes = useStyles();\n\n  // TODO - add paging, pop up bug details ...\n  return (\n    <Card className={classes.card}>\n      <TableContainer component={Paper}>\n        <Table className={classes.table} size=\"small\" aria-label=\"bug-list\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"left\">ID</TableCell>\n              <TableCell align=\"right\">Species</TableCell>\n              <TableCell align=\"right\">Age</TableCell>\n              <TableCell align=\"right\">Energy</TableCell>\n              <TableCell align=\"right\">Offspring</TableCell>\n              <TableCell align=\"right\">Speed</TableCell>\n              <TableCell align=\"right\">Turning Speed</TableCell>\n              <TableCell align=\"right\">Breed Size</TableCell>\n              <TableCell align=\"right\">Breed Energy</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {bugs.map((bug, i) => (\n              <TableRow key={i}>\n                <TableCell align=\"left\">{bug.geneology.id}</TableCell>\n                <TableCell align=\"right\">{bug.tint}</TableCell>\n                <TableCell align=\"right\">{bug.cycles}</TableCell>\n                <TableCell align=\"right\">{bug.energy}</TableCell>\n                <TableCell align=\"right\">{bug.geneology.children.length}</TableCell>\n                <TableCell align=\"right\">{bug.speed}</TableCell>\n                <TableCell align=\"right\">{(bug.turningSpeed).toFixed(6)}</TableCell>\n                <TableCell align=\"right\">{bug.breedSize}</TableCell>\n                <TableCell align=\"right\">{bug.breedThreshold}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Card>\n  );\n\n};\n\n\nconst mapStateToProps = state => {\n  const bugs = getBugs(state);\n  return { bugs };\n};\n\nexport default connect(mapStateToProps)(BugList);","import BugListComponent from './BugList';\nexport const BugList = BugListComponent;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { setControl } from '../../redux/actions';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport Button from '@material-ui/core/Button';\n\n// icons\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport RefreshIcon from '@material-ui/icons/Refresh';\n\nconst useStyles = makeStyles({\n  card: {\n    maxWidth: 1000,\n    maxHeight: 100,\n    margin: 5,\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  button: {\n    margin: 5\n  }\n});\n\nfunction Controls(props) {\n\n  const classes = useStyles();\n\n  // TODO - statics not strings\n  return (\n    <Card className={classes.card}>\n      <Button className={classes.button} variant=\"contained\" onClick={() => { props.setControl('PAUSE'); }}><PauseIcon /></Button>\n      <Button className={classes.button} variant=\"contained\" onClick={() => { props.setControl('PLAY'); }}><PlayArrowIcon /></Button>\n      <Button className={classes.button} variant=\"contained\" onClick={() => { props.setControl('RESET'); }}><RefreshIcon /></Button>\n    </Card>\n  );\n}\n\nexport default connect(\n  null,\n  { setControl }\n)(Controls);\n","import ControlsComponent from './Controls';\nexport const Controls = ControlsComponent;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport { getTracker } from \"../../redux/selectors\";\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyles = makeStyles({\n  card: {\n    maxWidth: 1000,\n    maxHeight: 200,\n    margin: 5\n  }\n});\n\nfunction Tracker({tracker}) {\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.card}>\n      <TableContainer component={Paper}>\n        <Table className={classes.table} size=\"small\" aria-label=\"tracker data\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"right\">Cycle</TableCell>\n              <TableCell align=\"right\">Current Bugs</TableCell>\n              <TableCell align=\"right\">Current Algae</TableCell>\n              <TableCell align=\"right\">Total Bugs</TableCell>\n              <TableCell align=\"right\">Total Species</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow key={tracker.ticks}>\n              <TableCell align=\"right\">{tracker.ticks}</TableCell>\n              <TableCell align=\"right\">{tracker.bugs}</TableCell>\n              <TableCell align=\"right\">{tracker.algae}</TableCell>\n              <TableCell align=\"right\">{tracker.totalBugs}</TableCell>\n              <TableCell align=\"right\">{tracker.totalSpecies}</TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Card>\n  );\n\n};\n\nconst mapStateToProps = state => {\n  const tracker = getTracker(state);\n  return { tracker };\n};\n\nexport default connect(mapStateToProps)(Tracker);\n","import TrackerComponent from './Tracker';\nexport const Tracker = TrackerComponent;","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// material-ui components\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\n\n// custom components\nimport { Simulation } from '../Simulation';\nimport { SummaryChart } from '../SummaryChart';\nimport { SpeciesChart } from '../SpeciesChart';\nimport { BugList } from '../BugList';\nimport { Controls } from '../Controls';\nimport { Tracker } from '../Tracker';\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <div>{children}</div>}\n    </Typography>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function SimWrapper() {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n          <Tab label=\"Simulation\" {...a11yProps(0)} />\n          <Tab label=\"Summary Chart\" {...a11yProps(1)} />\n          <Tab label=\"Species Chart\" {...a11yProps(2)} />\n          <Tab label=\"Bug List\" {...a11yProps(3)} />\n        </Tabs>\n      </AppBar>\n      <TabPanel value={value} index={0}>\n        <Controls />\n        <Simulation width={1000} height={500}/>\n        <SummaryChart height={200}/>\n        <Tracker />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <SummaryChart height={700}/>\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n        <SpeciesChart />\n      </TabPanel>\n      <TabPanel value={value} index={3}>\n        <BugList />\n      </TabPanel>\n    </div>\n  );\n}","import SimComponent from './SimWrapper';\nexport const SimWrapper = SimComponent;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, MemoryRouter } from 'react-router';\nimport { Link as RouterLink, Switch } from 'react-router-dom';\n\n// material-ui components\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\n\n// material-ui icons\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport InfoIcon from '@material-ui/icons/Info';\nimport HomeIcon from '@material-ui/icons/Home';\nimport BugReportIcon from '@material-ui/icons/BugReport';\n\n// custom components\nimport { Parameters } from '../Parameters';\nimport { Title } from '../Title';\nimport { About } from '../About';\nimport { SimWrapper } from '../SimWrapper';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  offset: theme.mixins.toolbar,\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  menu: {\n    width: 250,\n  }\n}));\n\nexport default function Header() {\n  const classes = useStyles();\n\n  // React hooks state management\n  const [settings, setSettings] = useState(false);\n  const [menu, setMenu] = useState(false);\n\n  const toggleSettings = (open) => event => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n    setSettings(open);\n  };\n\n  const toggleMenu = (open) => event => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n    setMenu(open);\n  };\n\n  const ListItemLink = (props) => {\n    const { icon, primary, to } = props;\n\n    const renderLink = React.useMemo(\n      () => React.forwardRef((itemProps, ref) => <RouterLink to={to} ref={ref} {...itemProps} />),\n      [to],\n    );\n\n    return (\n      <ListItem button component={renderLink}>\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n        <ListItemText primary={primary} />\n      </ListItem>\n    );\n  };\n\n  ListItemLink.propTypes = {\n    icon: PropTypes.element,\n    primary: PropTypes.string.isRequired,\n    to: PropTypes.string.isRequired,\n  };\n\n  const menuList = () => (\n    <div\n      className={classes.menu}\n      role=\"presentation\"\n      onClick={toggleMenu(false)}\n      onKeyDown={toggleMenu(false)}\n    >\n      <List component=\"nav\" aria-label=\"navigation\">\n        {[\n          { text: 'Home', icon: <HomeIcon />, href: '/' },\n          { text: 'Simulation', icon: <BugReportIcon />, href: '/simulation' },\n          { text: 'About', icon: <InfoIcon />, href: '/about' },\n        ].map((entry, index) => (\n          <ListItemLink key={index} to={entry.href} primary={entry.text} icon={entry.icon} />\n        ))}\n      </List>\n    </div>\n  );\n\n  return (\n    <MemoryRouter initialEntries={['/simulation']} initialIndex={0}>\n\n      <div className={classes.root}>\n        <AppBar position=\"fixed\">\n          <Toolbar>\n            <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\" onClick={toggleMenu(true)}>\n              <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n              Bugs 2020\n          </Typography>\n            <IconButton edge=\"end\" className={classes.menuButton} color=\"inherit\" aria-label=\"settings\" onClick={toggleSettings(true)}>\n              <SettingsIcon />\n            </IconButton>\n          </Toolbar>\n        </AppBar>\n        <Drawer anchor=\"left\" open={menu} onClose={toggleMenu(false)}>\n          {menuList()}\n        </Drawer>\n        <Drawer anchor=\"right\" open={settings} onClose={toggleSettings(false)}>\n          <Parameters toggle={toggleSettings()} />\n        </Drawer>\n      </div>\n\n      <Switch>\n        <Route exact path=\"/\">\n          <div className={classes.offset} />\n          <Title />\n        </Route>\n        <Route exact path=\"/simulation\">\n          <div className={classes.offset} />\n          <SimWrapper />\n        </Route>\n        <Route path=\"/about\">\n          <div className={classes.offset} />\n          <Title />\n          <About />\n        </Route>\n      </Switch>\n\n    </MemoryRouter>\n  );\n\n}\n","import Component from './Header';\nexport const Header = Component;","import React from 'react';\n\n// material-ui components\nimport { ThemeProvider } from '@material-ui/styles';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\n// custom components\nimport { Header } from './components/Header';\n\nconst theme = createMuiTheme({\n  palette: {\n    type: 'light', // dark | light\n  }\n});\n\nexport default function App() {\n\n  return (\n    <div className=\"App\">\n      <ThemeProvider theme={theme}>\n        <Header />\n      </ThemeProvider>\n    </div>\n  );\n};\n","import React from 'react';\nimport { render } from 'react-dom';\n\nimport { Provider } from 'react-redux'\nimport store from \"./redux/store\";\n\nimport './index.css';\nimport App from './App';\n\nrender(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}